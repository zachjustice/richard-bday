@import "tailwindcss";
@import "../stylesheets/components.css";

/* Tailwind v4 CSS-first configuration */
@theme {
  /* ============================================
     NEW BLANKSIES DESIGN SYSTEM
     Playful Chaos with Bold Primary Colors
     ============================================ */

  /* Base Colors (don't use directly - use semantic tokens below) */
  --color-dark: #1A1A2E;
  --color-light: #FFFFFF;

  /* Primary Design Tokens */
  --color-accent-primary: #D63040;    /* Red - CTAs, alerts (WCAG AA 4.82:1 with white) */
  --color-accent-secondary: #2196F3;  /* Blue - links, secondary actions */
  --color-accent-tertiary: #FFD60A;   /* Yellow - highlights, accents */
  --color-bg-page: #FFF8E7;           /* Cream - page backgrounds */
  --color-ink: var(--color-dark);               /* Dark - text, borders, shadows */
  --color-ink-inverted: var(--color-light);     /* Light - text/borders on dark backgrounds */

  /* Accessible text variants (meet WCAG AA 4.5:1 on white/cream backgrounds) */
  --color-accent-secondary-text: #1976D2; /* Darker blue for body text links (4.6:1 on white) */

  /* Light background variants for player items */
  --color-accent-primary-light: rgba(214, 48, 64, 0.1);
  --color-accent-secondary-light: rgba(33, 150, 243, 0.1);
  --color-accent-tertiary-light: rgba(255, 214, 10, 0.15);

  /* Extended Palette */
  --color-accent-red: #D63040;
  --color-accent-orange: #FF6B35;
  --color-accent-yellow: #FFD60A;
  --color-accent-green: #4CAF50;
  --color-accent-blue: #2196F3;
  --color-accent-indigo: #7C4DFF;
  --color-accent-violet: #E040FB;

  /* Legacy Brand Colors (for backwards compatibility) */
  --color-brand-purple: #667eea;
  --color-brand-deep-purple: #764ba2;
  --color-brand-pink: #f093fb;

  /* Semantic Colors */
  --color-error: #E63946;
  --color-error-light: #FDEAEA;
  --color-success: #4CAF50;
  --color-success-light: #E8F5E9;

  /* Custom Spacing */
  --spacing-32: 8rem;
  --spacing-navbar: 4rem;

  /* Custom Border Radius */
  --radius-3xl: 24px;

  /* Z-Index Scale — semantic stacking layers */
  --z-index-avatars: 10;       /* Roaming emoji avatars, doodle decorations */
  --z-index-content: 20;       /* Interactive content above avatars/doodles */
  --z-index-overlay: 40;       /* Countdown timer, mobile nav overlay */
  --z-index-controls: 50;      /* Fixed navbar, settings, flash messages */
  --z-index-hints: 60;         /* Tutorial hints */
  --z-index-music-button: 999; /* Music player button */
  --z-index-modal: 1000;       /* All modals */
  --z-index-tooltip: 1100;     /* Prompt tooltips */
  --z-index-easter-egg: 9999;  /* Konami overlay, skip link */

  /* Custom Shadows - Updated for new palette */
  --shadow-button: 0 4px 15px rgba(230, 57, 70, 0.3);
  --shadow-button-yellow: 0 4px 15px rgba(255, 214, 10, 0.4);
  --shadow-button-blue: 0 4px 15px rgba(33, 150, 243, 0.4);
  --shadow-2xl: 0 10px 40px rgba(0, 0, 0, 0.1);
  --shadow-3xl: 0 20px 60px rgba(26, 26, 46, 0.2);
  --shadow-playful: 4px 4px 0px var(--color-ink);
  --shadow-playful-sm: 2px 2px 0px var(--color-ink);

  /* Legacy Gradients (for backwards compatibility) */
  --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
  --gradient-primary-simple: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --gradient-primary-reverse: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
  --gradient-primary-tint: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%);

  /* Accent Gradients */
  --gradient-warm: linear-gradient(135deg, var(--color-accent-tertiary) 0%, var(--color-accent-orange) 100%);
  --gradient-cool: linear-gradient(135deg, var(--color-accent-secondary) 0%, var(--color-accent-green) 100%);

  /* Animations */
  --animate-gradient-shift: gradient-shift 15s ease infinite;
  @keyframes gradient-shift {
    0% { 
      background-size: 400% 400%;
      background-position: 0% 50%; 
    }
    50% { 
      background-size: 400% 400%;
      background-position: 100% 50%; 
    }
    100% { 
      background-size: 400% 400%;
      background-position: 0% 50%; 
    }
  }

  --animate-float: float 3s ease-in-out infinite;
  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }

  --animate-bounce-custom: bounce-custom 1s ease-in-out;
  @keyframes bounce-custom {
    0%, 100% { transform: translateY(0); }
    25% { transform: translateY(-20px); }
    50% { transform: translateY(0); }
    75% { transform: translateY(-10px); }
  }

  --animate-slide-in: slideIn 0.4s ease-out;

  @keyframes slideIn {
    from { opacity: 0; transform: translateX(-20px); }
    to { opacity: 1; transform: translateX(0); }
  }

  --animate-slide-up: slide-up 0.6s ease-out;

  @keyframes slide-up {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }

  --animate-swing: swing 2s ease-in-out infinite;
  @keyframes swing {
    0%, 100% { transform: rotate(0deg); }
    25% { transform: rotate(20deg); }
    75% { transform: rotate(-20deg); }
  }

  --animate-fade-in: fade-in 0.6s ease-out;
  @keyframes fade-in {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
  }

  --animate-pulse-dot: pulse-dot 1.5s ease-in-out infinite;
  @keyframes pulse-dot {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.5); opacity: 0.5; }
  }

  --animate-slide-in-right: slide-in-right 0.4s ease-out;
  @keyframes slide-in-right {
    from { opacity: 0; transform: translateX(100%); }
    to { opacity: 1; transform: translateX(0); }
  }

  --animate-flash-red: flash-red 1s ease-in-out infinite;
  @keyframes flash-red {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.4; }
  }

  --animate-tooltip-fade-in: tooltip-fade-in 0.2s ease-out;
  @keyframes tooltip-fade-in {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  --animate-roaming-tooltip-fade-in: roaming-tooltip-fade-in 0.2s ease-out;
  @keyframes roaming-tooltip-fade-in {
    from { opacity: 0; transform: translateX(-50%) translateY(-4px); }
    to { opacity: 1; transform: translateX(-50%) translateY(0); }
  }

  /* ============================================
     NEW BLANKSIES ANIMATIONS
     Bouncy, playful, intentional
     ============================================ */

  /* Bouncy entrance - for buttons and interactive elements */
  --animate-bouncy: bouncy 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  @keyframes bouncy {
    0% { transform: scale(0.3); opacity: 0; }
    50% { transform: scale(1.05); }
    70% { transform: scale(0.9); }
    100% { transform: scale(1); opacity: 1; }
  }

  /* Wiggle - for hover states and attention */
  --animate-wiggle: wiggle 0.5s ease-in-out;
  @keyframes wiggle {
    0%, 100% { transform: rotate(0deg); }
    25% { transform: rotate(-3deg); }
    75% { transform: rotate(3deg); }
  }

  /* Pop - quick attention grabber */
  --animate-pop: pop 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  @keyframes pop {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
  }

  /* Squish - playful button press */
  --animate-squish: squish 0.2s ease-out;
  @keyframes squish {
    0% { transform: scale(1, 1); }
    50% { transform: scale(1.1, 0.9); }
    100% { transform: scale(1, 1); }
  }

  /* Jello - wobbly attention effect */
  --animate-jello: jello 0.9s ease-in-out;
  @keyframes jello {
    0%, 100% { transform: scale3d(1, 1, 1); }
    30% { transform: scale3d(1.25, 0.75, 1); }
    40% { transform: scale3d(0.75, 1.25, 1); }
    50% { transform: scale3d(1.15, 0.85, 1); }
    65% { transform: scale3d(0.95, 1.05, 1); }
    75% { transform: scale3d(1.05, 0.95, 1); }
  }

  /* Draw - for underline animations */
  --animate-draw: draw 0.4s ease-out forwards;
  @keyframes draw {
    from { width: 0; }
    to { width: 100%; }
  }

  /* Scribble - subtle hand-drawn effect */
  --animate-scribble: scribble 0.3s ease-in-out infinite;
  @keyframes scribble {
    0%, 100% { transform: translateX(0) rotate(0deg); }
    25% { transform: translateX(-1px) rotate(-0.5deg); }
    75% { transform: translateX(1px) rotate(0.5deg); }
  }

  /* Hint shake - enlarge, shake, shrink back */
  --animate-hint-shake: hint-shake 0.8s ease-in-out;
  @keyframes hint-shake {
    0% { transform: scale(1); }
    15% { transform: scale(1.15); }
    25% { transform: scale(1.15) translateX(-4px); }
    35% { transform: scale(1.15) translateX(4px); }
    45% { transform: scale(1.15) translateX(-4px); }
    55% { transform: scale(1.15) translateX(3px); }
    65% { transform: scale(1.15) translateX(-2px); }
    75% { transform: scale(1.15); }
    100% { transform: scale(1); }
  }

  /* Avatar shimmer — sweeps a white highlight across current user's avatar */
  @keyframes avatar-shimmer {
    0%, 85%, 100% { background-position: 200% 0; }
    95% { background-position: -200% 0; }
  }

  /* Avatar spark pop — burst outward and fade */
  @keyframes avatar-spark-pop {
    0% { transform: translate(0, 0) scale(0.5); opacity: 1; }
    20% { transform: translate(calc(var(--spark-x) * 0.15), calc(var(--spark-y) * 0.15)) scale(var(--spark-scale, 1.2)); opacity: 1; }
    100% { transform: translate(var(--spark-x), var(--spark-y)) scale(0); opacity: 0; }
  }

  /* Avatar flash red — brief red overlay on answer change */
  @keyframes avatar-flash-red {
    0% { background-color: inherit; }
    40% { background-color: #E6394680; }
    100% { background-color: inherit; }
  }

}

/* Disable animations for users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  .animate-float,
  .animate-bounce-custom,
  .animate-slide-in,
  .animate-slide-up,
  .animate-gradient-shift,
  .animate-swing,
  .animate-fade-in,
  .animate-pulse-dot,
  .animate-slide-in-right,
  .animate-flash-red,
  .animate-tooltip-fade-in,
  .animate-roaming-tooltip-fade-in,
  .animate-bouncy,
  .animate-wiggle,
  .animate-pop,
  .animate-squish,
  .animate-jello,
  .animate-draw,
  .animate-scribble,
  .animate-hint-shake,
  .roaming-avatar,
  .roaming-avatar--self::after,
  .roaming-avatar-spark,
  .roaming-avatar--flash-red {
    animation: none !important;
  }
}

/* Global base styles */
html {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}