<div class="min-h-screen flex items-center justify-center p-6 max-sm:items-start max-sm:p-4 max-sm:pt-16 bg-(image:--gradient-primary) animate-gradient-shift">
  <div class="card-primary animate-slide-up p-10 max-sm:p-8 max-w-md w-full">
    <div class="text-center mb-8">
      <h1 class="text-3xl max-sm:text-2xl font-bold text-gray-900 mb-2 leading-tight">Join a Game</h1>
      <div class="text-base max-sm:text-sm text-success mb-2">
        <% if @room&.current_game&.current_game_prompt && (Time.now - @room.created_at) < 1.day %>
          <span>It looks like you're already in a game.</span>
          <%= link_to "Rejoin?", controller: "prompts", action: "show", id: @room.current_game.current_game_prompt, class: "underline" %>
        <% elsif @room.present? && (Time.now - @room.created_at) < 1.day %>
          <span>It looks like you're already in a game.</span>
          <%= link_to "Rejoin?", controller: "rooms", action: "show", class: "underline" %>
        <% end %>
      </div>
      <% if !@room %>
        <p class="text-base max-sm:text-sm text-gray-500">Enter your details to start playing</p>
      <% end %>
    </div>

    <%= form_with url: session_path, class: "flex flex-col gap-6" do |form| %>
      <div class="flex flex-col gap-2">
        <label for="name" class="form-label">
          <span class="text-lg">ðŸ‘¤</span>
          Username
        </label>
        <%= form.text_field :name,
            id: "name",
            required: true,
            autofocus: true,
            autocomplete: "off",
            placeholder: "What should we call you?",
            value: params[:username],
            class: "form-input" %>
      </div>

      <div class="flex flex-col gap-2">
        <label for="code" class="form-label">
          <span class="text-lg">ðŸ”‘</span>
          Room Code
        </label>
        <%= form.text_field :code,
            id: "code",
            value: params[:code],
            required: true,
            autocomplete: "off",
            placeholder: "Enter room code",
            maxlength: 72,
            class: "form-input uppercase tracking-widest font-bold" %>
      </div>

      <%= form.submit "Join Game", class: "btn-primary mt-4" %>
    <% end %>

    <div class="mt-8 pt-6 border-t-2 border-gray-200 text-center">
      <span class="text-sm">
        <%= link_to "Start a new game instead", create_room_path, class: "text-gray-500 italic underline" %>
      </span>
    </div>
  </div>
</div>
