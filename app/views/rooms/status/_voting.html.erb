<%= turbo_stream_from "rooms:#{room.id}:votes" %>

<div class="flex-1 flex flex-col justify-start min-h-0">
  <div class="card-subdued text-center mb-8 border-l-4 border-accent-indigo/40 border-l-accent-indigo bg-accent-indigo/10">
    <%= render "shared/countdown_timer", duration: room.current_game.next_game_phase_time - Time.now - GameConstants::COUNTDOWN_FORGIVENESS_SECONDS, auto_start: true %>
    <h1 class="text-4xl font-bold text-ink mb-3 leading-tight">Vote for the best answer on your device!</h1>
  </div>

  <div class="card-subdued flex-1 min-h-0 border-l-4 border-accent-indigo/40 border-l-accent-indigo">
    <h3 class="text-xl font-bold text-ink mb-4 flex items-center gap-2">Votes</h3>
    <div class="flex flex-col flex-1 min-h-0">
      <ul id="users-with-status-list" class="list-none p-0 m-0 gap-3 grid grid-cols-[repeat(auto-fit,minmax(200px,1fr))]">
        <% users.each do |user| %>
          <%= render "rooms/partials/user_with_status_item", user: user, completed: users_with_vote.include?(user.name), color: "indigo" %>
        <% end %>
      </ul>
    </div>
  </div>
</div>
