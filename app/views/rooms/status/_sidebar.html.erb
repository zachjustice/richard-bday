<aside class="game-progress-sidebar">
  <div class="sidebar-header">
    <h3 class="sidebar-title">Game Status</h3>
  </div>
  <div class="rounds-list">
    <p class="round-counter">Round <%= room.current_game.current_game_prompt.order + 1 %> of <%= total_prompts %></p>
    <% 
      RoomsHelper::GAME_PHASES.each_with_index do |curr, index| 
    %>
    <% 
        is_current = curr[:status] == room.status
        is_completed = index < (RoomsHelper::GAME_PHASES.find_index{|rs| rs[:status] == room.status} || RoomsHelper::GAME_PHASES.size)
      %>
    <div class="game-status-badge <%= is_completed ? 'completed-game-phase' : nil %> <%= is_current ? 'current-game-phase' : nil %>">
      <% if is_completed %>
        <span class="status-icon">âœ”ï¸</span>
      <% else %>
        <span class="status-icon"><%= curr[:icon] %></span>
      <% end %>
      <span class="status-text"><%= curr[:text] %></span>
    </div>
  <% end %>
  <div class="separator"></div>
  <div class="game-status-badge <%= room.status == RoomStatus::FinalResults ? 'current-game-phase' : nil %>">
    <span class="status-icon">ğŸ“œ</span>
    <span class="status-text">Final Story</span>
  </div>
</div>
</aside>