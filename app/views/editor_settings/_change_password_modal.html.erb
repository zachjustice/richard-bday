<div class="leave-game-modal hidden" data-modal-target="modal">
  <div class="leave-game-backdrop" data-action="click->modal#close"></div>
  <div class="leave-game-content" style="max-width: 420px;">
    <div class="p-6">
      <h3 class="text-xl font-bold text-ink mb-1">Change Password</h3>
      <p class="text-ink/60 text-sm mb-5">Enter your current password and choose a new one.</p>

      <% if @password_error %>
        <div class="alert-message" role="alert"><%= @password_error %></div>
      <% end %>

      <%= form_with url: editor_password_path, method: :patch, class: "flex flex-col gap-4" do |form| %>
        <div class="flex flex-col gap-1">
          <label for="current_password" class="form-label">Current Password</label>
          <%= form.password_field :current_password,
              id: "current_password",
              required: true,
              autofocus: true,
              autocomplete: "current-password",
              class: "form-input" %>
        </div>

        <div class="flex flex-col gap-1">
          <label for="new_password" class="form-label">New Password</label>
          <%= form.password_field :new_password,
              id: "new_password",
              required: true,
              autocomplete: "new-password",
              placeholder: "Minimum 8 characters",
              class: "form-input" %>
        </div>

        <div class="flex flex-col gap-1">
          <label for="new_password_confirmation" class="form-label">Confirm New Password</label>
          <%= form.password_field :new_password_confirmation,
              id: "new_password_confirmation",
              required: true,
              autocomplete: "new-password",
              class: "form-input" %>
        </div>

        <div class="flex gap-3 justify-end mt-2">
          <button type="button" class="btn-secondary" data-action="modal#close">
            Cancel
          </button>
          <%= form.submit "Update Password", class: "btn-primary" %>
        </div>
      <% end %>
    </div>
  </div>
</div>
