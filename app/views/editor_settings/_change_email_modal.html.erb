<div class="leave-game-modal hidden" data-modal-target="modal">
  <div class="leave-game-backdrop" data-action="click->modal#close"></div>
  <div class="leave-game-content" style="max-width: 420px;">
    <div class="p-6">
      <h3 class="text-xl font-bold text-ink mb-1">Change Email</h3>
      <p class="text-ink/60 text-sm mb-5">We'll send a confirmation link to your new email. Your email won't change until you click the link.</p>

      <% if @email_error %>
        <div class="alert-message" role="alert"><%= @email_error %></div>
      <% end %>

      <%= form_with url: editor_email_path, method: :post, class: "flex flex-col gap-4" do |form| %>
        <div class="flex flex-col gap-1">
          <label for="new_email" class="form-label">New Email</label>
          <%= form.email_field :new_email,
              id: "new_email",
              required: true,
              autofocus: true,
              autocomplete: "email",
              placeholder: "Enter your new email address",
              class: "form-input" %>
        </div>

        <div class="flex gap-3 justify-end mt-2">
          <button type="button" class="btn-secondary" data-action="modal#close">
            Cancel
          </button>
          <%= form.submit "Send Confirmation", class: "btn-primary" %>
        </div>
      <% end %>
    </div>
  </div>
</div>
