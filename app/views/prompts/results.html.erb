<%= stylesheet_link_tag "prompt-results", "data-turbo-track": "reload" %>
<%= turbo_stream_from "rooms:#{@current_room.id}:nav-updates" %>

<div id="results" data-controller="prompt-results" class="prompt-results-container">
  <div class="prompt-results-card">
    <% if @status == RoomStatus::FinalResults %>
      <div class="status-display final-results">
        <div class="waiting-animation">
          <div class="spinner-ring"></div>
          <div class="spinner-ring spinner-ring-2"></div>
          <div class="spinner-ring spinner-ring-3"></div>
        </div>
        <h2 class="status-title">Game Complete!</h2>
        <p class="status-message">Check the big screen for the final results!</p>
      </div>
    <% elsif @status == RoomStatus::WaitingRoom %>
      <div class="status-display waiting-room">
        <div class="waiting-animation">
          <div class="spinner-ring"></div>
          <div class="spinner-ring spinner-ring-2"></div>
          <div class="spinner-ring spinner-ring-3"></div>
        </div>
        <h2 class="status-title">Between Games</h2>
        <p class="status-message">Waiting for a new game to start...</p>
        <%= render "shared/fun_facts" %>
      </div>
    <% elsif @status != RoomStatus::Results %>
      <div class="status-display waiting-votes">
        <div class="waiting-animation">
          <div class="spinner-ring"></div>
          <div class="spinner-ring spinner-ring-2"></div>
          <div class="spinner-ring spinner-ring-3"></div>
        </div>
        <h2 class="status-title">Counting Votes</h2>
        <p class="status-message">Waiting for everyone to vote...</p>
        <%= render "shared/fun_facts" %>
      </div>
    <% else %>
      <div class="status-display results-ready">
        <h2 class="status-title">Round Complete!</h2>
        <p class="status-message">Check the big screen for the winner!</p>
      </div>

      <div class="progress-dots">
        <span class="dot"></span>
        <span class="dot"></span>
        <span class="dot"></span>
      </div>
    <% end %>

  </div>
</div>
