<%# app/views/prompts/index.html.erb %>
<div class="max-w-[1400px] flex flex-col flex-1 p-8 md:p-4 self-center">
  <div class="mb-8 flex flex-row justify-between flex-wrap gap-4">
    <div>
      <h1 class="text-3xl font-bold text-gray-900 m-0">Prompts Library</h1>
      <p class="text-gray-500 mt-2 mb-0">Manage questions used to fill story blanks</p>
    </div>
    <div>
      <%= link_to "Stories", stories_path, class: "btn-secondary" %>
    </div>
  </div>

  <div class="grid grid-cols-[2fr_1fr] gap-8 lg:grid-cols-1">
    <div class="bg-white p-8 rounded-xl border-2 border-gray-200">
      <h2 class="text-xl font-bold text-gray-900 m-0 mb-4">All Prompts (<%= @prompts.count %>)</h2>
      <div id="prompts_list" class="flex flex-col gap-4 max-h-screen overflow-y-auto">
        <% @prompts.each do |prompt| %>
          <%= render "prompts/prompt", prompt: prompt %>
        <% end %>
      </div>
    </div>

    <div class="bg-gray-50 p-6 rounded-xl border-2 border-gray-200 sticky top-8 lg:static">
      <div id="new_prompt_form">
        <%= render "prompts/form", prompt: Prompt.new %>
      </div>
    </div>
  </div>
</div>
