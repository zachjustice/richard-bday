/* esm.sh - @discord/embedded-app-sdk@1.9.0 */
var ul=Object.defineProperty;var ua=(t,e)=>{for(var r in e)ul(t,r,{get:e[r],enumerable:!0})};var xr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function or(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vn={exports:{}};var ca;function pa(){return ca?vn.exports:(ca=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(m,f,p){this.fn=m,this.context=f,this.once=p||!1}function a(m,f,p,g,S){if(typeof p!="function")throw new TypeError("The listener must be a function");var P=new i(p,g||m,S),$=r?r+f:f;return m._events[$]?m._events[$].fn?m._events[$]=[m._events[$],P]:m._events[$].push(P):(m._events[$]=P,m._eventsCount++),m}function c(m,f){--m._eventsCount===0?m._events=new n:delete m._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],p,g;if(this._eventsCount===0)return f;for(g in p=this._events)e.call(p,g)&&f.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},u.prototype.listeners=function(f){var p=r?r+f:f,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var S=0,P=g.length,$=new Array(P);S<P;S++)$[S]=g[S].fn;return $},u.prototype.listenerCount=function(f){var p=r?r+f:f,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,p,g,S,P,$){var j=r?r+f:f;if(!this._events[j])return!1;var L=this._events[j],he=arguments.length,ie,ae;if(L.fn){switch(L.once&&this.removeListener(f,L.fn,void 0,!0),he){case 1:return L.fn.call(L.context),!0;case 2:return L.fn.call(L.context,p),!0;case 3:return L.fn.call(L.context,p,g),!0;case 4:return L.fn.call(L.context,p,g,S),!0;case 5:return L.fn.call(L.context,p,g,S,P),!0;case 6:return L.fn.call(L.context,p,g,S,P,$),!0}for(ae=1,ie=new Array(he-1);ae<he;ae++)ie[ae-1]=arguments[ae];L.fn.apply(L.context,ie)}else{var Ne=L.length,ge;for(ae=0;ae<Ne;ae++)switch(L[ae].once&&this.removeListener(f,L[ae].fn,void 0,!0),he){case 1:L[ae].fn.call(L[ae].context);break;case 2:L[ae].fn.call(L[ae].context,p);break;case 3:L[ae].fn.call(L[ae].context,p,g);break;case 4:L[ae].fn.call(L[ae].context,p,g,S);break;default:if(!ie)for(ge=1,ie=new Array(he-1);ge<he;ge++)ie[ge-1]=arguments[ge];L[ae].fn.apply(L[ae].context,ie)}}return!0},u.prototype.on=function(f,p,g){return a(this,f,p,g,!1)},u.prototype.once=function(f,p,g){return a(this,f,p,g,!0)},u.prototype.removeListener=function(f,p,g,S){var P=r?r+f:f;if(!this._events[P])return this;if(!p)return c(this,P),this;var $=this._events[P];if($.fn)$.fn===p&&(!S||$.once)&&(!g||$.context===g)&&c(this,P);else{for(var j=0,L=[],he=$.length;j<he;j++)($[j].fn!==p||S&&!$[j].once||g&&$[j].context!==g)&&L.push($[j]);L.length?this._events[P]=L.length===1?L[0]:L:c(this,P)}return this},u.prototype.removeAllListeners=function(f){var p;return f?(p=r?r+f:f,this._events[p]&&c(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(vn),vn.exports)}var cl=pa(),yn=or(cl);var te;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{let a={};for(let c of i)a[c]=c;return a},t.getValidEnumValues=i=>{let a=t.objectKeys(i).filter(u=>typeof i[i[u]]!="number"),c={};for(let u of a)c[u]=i[u];return t.objectValues(c)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let a=[];for(let c in i)Object.prototype.hasOwnProperty.call(i,c)&&a.push(c);return a},t.find=(i,a)=>{for(let c of i)if(a(c))return c},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(c=>typeof c=="string"?`'${c}'`:c).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(te||(te={}));var Ei;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Ei||(Ei={}));var k=te.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),bt=t=>{switch(typeof t){case"undefined":return k.undefined;case"string":return k.string;case"number":return isNaN(t)?k.nan:k.number;case"boolean":return k.boolean;case"function":return k.function;case"bigint":return k.bigint;case"symbol":return k.symbol;case"object":return Array.isArray(t)?k.array:t===null?k.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?k.promise:typeof Map<"u"&&t instanceof Map?k.map:typeof Set<"u"&&t instanceof Set?k.set:typeof Date<"u"&&t instanceof Date?k.date:k.object;default:return k.unknown}},N=te.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),pl=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),Be=class t extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(let c of a.issues)if(c.code==="invalid_union")c.unionErrors.map(i);else if(c.code==="invalid_return_type")i(c.returnTypeError);else if(c.code==="invalid_arguments")i(c.argumentsError);else if(c.path.length===0)n._errors.push(r(c));else{let u=n,m=0;for(;m<c.path.length;){let f=c.path[m];m===c.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(r(c))):u[f]=u[f]||{_errors:[]},u=u[f],m++}}};return i(this),n}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,te.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Be.create=t=>new Be(t);var cr=(t,e)=>{let r;switch(t.code){case N.invalid_type:t.received===k.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case N.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,te.jsonStringifyReplacer)}`;break;case N.unrecognized_keys:r=`Unrecognized key(s) in object: ${te.joinValues(t.keys,", ")}`;break;case N.invalid_union:r="Invalid input";break;case N.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${te.joinValues(t.options)}`;break;case N.invalid_enum_value:r=`Invalid enum value. Expected ${te.joinValues(t.options)}, received '${t.received}'`;break;case N.invalid_arguments:r="Invalid function arguments";break;case N.invalid_return_type:r="Invalid function return type";break;case N.invalid_date:r="Invalid date";break;case N.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:te.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case N.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case N.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case N.custom:r="Invalid input";break;case N.invalid_intersection_types:r="Intersection results could not be merged";break;case N.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case N.not_finite:r="Number must be finite";break;default:r=e.defaultError,te.assertNever(t)}return{message:r}},ha=cr;function fl(t){ha=t}function En(){return ha}var Tn=t=>{let{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],c={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let u="",m=n.filter(f=>!!f).slice().reverse();for(let f of m)u=f(c,{data:e,defaultError:u}).message;return{...i,path:a,message:u}},dl=[];function M(t,e){let r=En(),n=Tn({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===cr?void 0:cr].filter(i=>!!i)});t.common.issues.push(n)}var we=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let i of r){if(i.status==="aborted")return C;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let i of r){let a=await i.key,c=await i.value;n.push({key:a,value:c})}return t.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let i of r){let{key:a,value:c}=i;if(a.status==="aborted"||c.status==="aborted")return C;a.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof c.value<"u"||i.alwaysSet)&&(n[a.value]=c.value)}return{status:e.value,value:n}}},C=Object.freeze({status:"aborted"}),ur=t=>({status:"dirty",value:t}),De=t=>({status:"valid",value:t}),Ti=t=>t.status==="aborted",bi=t=>t.status==="dirty",Pr=t=>t.status==="valid",Mr=t=>typeof Promise<"u"&&t instanceof Promise;function bn(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function ma(t,e,r,n,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var V;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(V||(V={}));var Dr,Lr,Ce=class{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},fa=(t,e)=>{if(Pr(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Be(t.common.issues);return this._error=r,this._error}}};function X(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(c,u)=>{var m,f;let{message:p}=t;return c.code==="invalid_enum_value"?{message:p??u.defaultError}:typeof u.data>"u"?{message:(m=p??n)!==null&&m!==void 0?m:u.defaultError}:c.code!=="invalid_type"?{message:u.defaultError}:{message:(f=p??r)!==null&&f!==void 0?f:u.defaultError}},description:i}}var W=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return bt(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:bt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new we,ctx:{common:e.parent.common,data:e.data,parsedType:bt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(Mr(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;let i={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:bt(e)},a=this._parseSync({data:e,path:i.path,parent:i});return fa(i,a)}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:bt(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(Mr(i)?i:Promise.resolve(i));return fa(n,a)}refine(e,r){let n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{let c=e(i),u=()=>a.addIssue({code:N.custom,...n(i)});return typeof Promise<"u"&&c instanceof Promise?c.then(m=>m?!0:(u(),!1)):c?!0:(u(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Ge({schema:this,typeName:q.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ke.create(this,this._def)}nullable(){return et.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return gt.create(this,this._def)}promise(){return It.create(this,this._def)}or(e){return qt.create([this,e],this._def)}and(e){return Kt.create(this,e,this._def)}transform(e){return new Ge({...X(this._def),schema:this,typeName:q.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new Xt({...X(this._def),innerType:this,defaultValue:r,typeName:q.ZodDefault})}brand(){return new kr({typeName:q.ZodBranded,type:this,...X(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new Wt({...X(this._def),innerType:this,catchValue:r,typeName:q.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Ur.create(this,e)}readonly(){return Jt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},hl=/^c[^\s-]{8,}$/i,ml=/^[0-9a-z]+$/,gl=/^[0-9A-HJKMNP-TV-Z]{26}$/,_l=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,vl=/^[a-z0-9_-]{21}$/i,yl=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,El=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Tl="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",yi,bl=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Sl=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Al=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ga="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Il=new RegExp(`^${ga}$`);function _a(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function wl(t){return new RegExp(`^${_a(t)}$`)}function va(t){let e=`${ga}T${_a(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Nl(t,e){return!!((e==="v4"||!e)&&bl.test(t)||(e==="v6"||!e)&&Sl.test(t))}var St=class t extends W{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==k.string){let a=this._getOrReturnCtx(e);return M(a,{code:N.invalid_type,expected:k.string,received:a.parsedType}),C}let n=new we,i;for(let a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),M(i,{code:N.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),M(i,{code:N.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){let c=e.data.length>a.value,u=e.data.length<a.value;(c||u)&&(i=this._getOrReturnCtx(e,i),c?M(i,{code:N.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):u&&M(i,{code:N.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")El.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"email",code:N.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")yi||(yi=new RegExp(Tl,"u")),yi.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"emoji",code:N.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")_l.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"uuid",code:N.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")vl.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"nanoid",code:N.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")hl.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"cuid",code:N.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")ml.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"cuid2",code:N.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")gl.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"ulid",code:N.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),M(i,{validation:"url",code:N.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"regex",code:N.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),M(i,{code:N.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),M(i,{code:N.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),M(i,{code:N.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?va(a).test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{code:N.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?Il.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{code:N.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?wl(a).test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{code:N.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?yl.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"duration",code:N.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?Nl(e.data,a.version)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"ip",code:N.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?Al.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"base64",code:N.invalid_string,message:a.message}),n.dirty()):te.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:N.invalid_string,...V.errToObj(n)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...V.errToObj(e)})}url(e){return this._addCheck({kind:"url",...V.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...V.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...V.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...V.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...V.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...V.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...V.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...V.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...V.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...V.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...V.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...V.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...V.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...V.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...V.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...V.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...V.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...V.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...V.errToObj(r)})}nonempty(e){return this.min(1,V.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};St.create=t=>{var e;return new St({checks:[],typeName:q.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...X(t)})};function Ol(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=parseInt(t.toFixed(i).replace(".","")),c=parseInt(e.toFixed(i).replace(".",""));return a%c/Math.pow(10,i)}var Gt=class t extends W{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==k.number){let a=this._getOrReturnCtx(e);return M(a,{code:N.invalid_type,expected:k.number,received:a.parsedType}),C}let n,i=new we;for(let a of this._def.checks)a.kind==="int"?te.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),M(n,{code:N.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),M(n,{code:N.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),M(n,{code:N.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?Ol(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),M(n,{code:N.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),M(n,{code:N.not_finite,message:a.message}),i.dirty()):te.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,V.toString(r))}gt(e,r){return this.setLimit("min",e,!1,V.toString(r))}lte(e,r){return this.setLimit("max",e,!0,V.toString(r))}lt(e,r){return this.setLimit("max",e,!1,V.toString(r))}setLimit(e,r,n,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:V.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:V.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:V.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:V.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:V.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:V.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:V.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:V.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:V.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:V.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&te.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};Gt.create=t=>new Gt({checks:[],typeName:q.ZodNumber,coerce:t?.coerce||!1,...X(t)});var Vt=class t extends W{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==k.bigint){let a=this._getOrReturnCtx(e);return M(a,{code:N.invalid_type,expected:k.bigint,received:a.parsedType}),C}let n,i=new we;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),M(n,{code:N.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),M(n,{code:N.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),M(n,{code:N.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):te.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,V.toString(r))}gt(e,r){return this.setLimit("min",e,!1,V.toString(r))}lte(e,r){return this.setLimit("max",e,!0,V.toString(r))}lt(e,r){return this.setLimit("max",e,!1,V.toString(r))}setLimit(e,r,n,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:V.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:V.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:V.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:V.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:V.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:V.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Vt.create=t=>{var e;return new Vt({checks:[],typeName:q.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...X(t)})};var Ht=class extends W{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==k.boolean){let n=this._getOrReturnCtx(e);return M(n,{code:N.invalid_type,expected:k.boolean,received:n.parsedType}),C}return De(e.data)}};Ht.create=t=>new Ht({typeName:q.ZodBoolean,coerce:t?.coerce||!1,...X(t)});var jt=class t extends W{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==k.date){let a=this._getOrReturnCtx(e);return M(a,{code:N.invalid_type,expected:k.date,received:a.parsedType}),C}if(isNaN(e.data.getTime())){let a=this._getOrReturnCtx(e);return M(a,{code:N.invalid_date}),C}let n=new we,i;for(let a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),M(i,{code:N.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),M(i,{code:N.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):te.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:V.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:V.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};jt.create=t=>new jt({checks:[],coerce:t?.coerce||!1,typeName:q.ZodDate,...X(t)});var pr=class extends W{_parse(e){if(this._getType(e)!==k.symbol){let n=this._getOrReturnCtx(e);return M(n,{code:N.invalid_type,expected:k.symbol,received:n.parsedType}),C}return De(e.data)}};pr.create=t=>new pr({typeName:q.ZodSymbol,...X(t)});var Ft=class extends W{_parse(e){if(this._getType(e)!==k.undefined){let n=this._getOrReturnCtx(e);return M(n,{code:N.invalid_type,expected:k.undefined,received:n.parsedType}),C}return De(e.data)}};Ft.create=t=>new Ft({typeName:q.ZodUndefined,...X(t)});var Zt=class extends W{_parse(e){if(this._getType(e)!==k.null){let n=this._getOrReturnCtx(e);return M(n,{code:N.invalid_type,expected:k.null,received:n.parsedType}),C}return De(e.data)}};Zt.create=t=>new Zt({typeName:q.ZodNull,...X(t)});var At=class extends W{constructor(){super(...arguments),this._any=!0}_parse(e){return De(e.data)}};At.create=t=>new At({typeName:q.ZodAny,...X(t)});var mt=class extends W{constructor(){super(...arguments),this._unknown=!0}_parse(e){return De(e.data)}};mt.create=t=>new mt({typeName:q.ZodUnknown,...X(t)});var We=class extends W{_parse(e){let r=this._getOrReturnCtx(e);return M(r,{code:N.invalid_type,expected:k.never,received:r.parsedType}),C}};We.create=t=>new We({typeName:q.ZodNever,...X(t)});var fr=class extends W{_parse(e){if(this._getType(e)!==k.undefined){let n=this._getOrReturnCtx(e);return M(n,{code:N.invalid_type,expected:k.void,received:n.parsedType}),C}return De(e.data)}};fr.create=t=>new fr({typeName:q.ZodVoid,...X(t)});var gt=class t extends W{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==k.array)return M(r,{code:N.invalid_type,expected:k.array,received:r.parsedType}),C;if(i.exactLength!==null){let c=r.data.length>i.exactLength.value,u=r.data.length<i.exactLength.value;(c||u)&&(M(r,{code:c?N.too_big:N.too_small,minimum:u?i.exactLength.value:void 0,maximum:c?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(M(r,{code:N.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(M(r,{code:N.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((c,u)=>i.type._parseAsync(new Ce(r,c,r.path,u)))).then(c=>we.mergeArray(n,c));let a=[...r.data].map((c,u)=>i.type._parseSync(new Ce(r,c,r.path,u)));return we.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:V.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:V.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:V.toString(r)}})}nonempty(e){return this.min(1,e)}};gt.create=(t,e)=>new gt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:q.ZodArray,...X(e)});function lr(t){if(t instanceof Me){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=Ke.create(lr(n))}return new Me({...t._def,shape:()=>e})}else return t instanceof gt?new gt({...t._def,type:lr(t.element)}):t instanceof Ke?Ke.create(lr(t.unwrap())):t instanceof et?et.create(lr(t.unwrap())):t instanceof Qe?Qe.create(t.items.map(e=>lr(e))):t}var Me=class t extends W{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=te.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==k.object){let f=this._getOrReturnCtx(e);return M(f,{code:N.invalid_type,expected:k.object,received:f.parsedType}),C}let{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:c}=this._getCached(),u=[];if(!(this._def.catchall instanceof We&&this._def.unknownKeys==="strip"))for(let f in i.data)c.includes(f)||u.push(f);let m=[];for(let f of c){let p=a[f],g=i.data[f];m.push({key:{status:"valid",value:f},value:p._parse(new Ce(i,g,i.path,f)),alwaysSet:f in i.data})}if(this._def.catchall instanceof We){let f=this._def.unknownKeys;if(f==="passthrough")for(let p of u)m.push({key:{status:"valid",value:p},value:{status:"valid",value:i.data[p]}});else if(f==="strict")u.length>0&&(M(i,{code:N.unrecognized_keys,keys:u}),n.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let f=this._def.catchall;for(let p of u){let g=i.data[p];m.push({key:{status:"valid",value:p},value:f._parse(new Ce(i,g,i.path,p)),alwaysSet:p in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let f=[];for(let p of m){let g=await p.key,S=await p.value;f.push({key:g,value:S,alwaysSet:p.alwaysSet})}return f}).then(f=>we.mergeObjectSync(n,f)):we.mergeObjectSync(n,m)}get shape(){return this._def.shape()}strict(e){return V.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,a,c,u;let m=(c=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,r,n).message)!==null&&c!==void 0?c:n.defaultError;return r.code==="unrecognized_keys"?{message:(u=V.errToObj(e).message)!==null&&u!==void 0?u:m}:{message:m}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:q.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};return te.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new t({...this._def,shape:()=>r})}omit(e){let r={};return te.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new t({...this._def,shape:()=>r})}deepPartial(){return lr(this)}partial(e){let r={};return te.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new t({...this._def,shape:()=>r})}required(e){let r={};return te.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Ke;)a=a._def.innerType;r[n]=a}}),new t({...this._def,shape:()=>r})}keyof(){return ya(te.objectKeys(this.shape))}};Me.create=(t,e)=>new Me({shape:()=>t,unknownKeys:"strip",catchall:We.create(),typeName:q.ZodObject,...X(e)});Me.strictCreate=(t,e)=>new Me({shape:()=>t,unknownKeys:"strict",catchall:We.create(),typeName:q.ZodObject,...X(e)});Me.lazycreate=(t,e)=>new Me({shape:t,unknownKeys:"strip",catchall:We.create(),typeName:q.ZodObject,...X(e)});var qt=class extends W{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(let u of a)if(u.result.status==="valid")return u.result;for(let u of a)if(u.result.status==="dirty")return r.common.issues.push(...u.ctx.common.issues),u.result;let c=a.map(u=>new Be(u.ctx.common.issues));return M(r,{code:N.invalid_union,unionErrors:c}),C}if(r.common.async)return Promise.all(n.map(async a=>{let c={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:c}),ctx:c}})).then(i);{let a,c=[];for(let m of n){let f={...r,common:{...r.common,issues:[]},parent:null},p=m._parseSync({data:r.data,path:r.path,parent:f});if(p.status==="valid")return p;p.status==="dirty"&&!a&&(a={result:p,ctx:f}),f.common.issues.length&&c.push(f.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;let u=c.map(m=>new Be(m));return M(r,{code:N.invalid_union,unionErrors:u}),C}}get options(){return this._def.options}};qt.create=(t,e)=>new qt({options:t,typeName:q.ZodUnion,...X(e)});var ht=t=>t instanceof Ct?ht(t.schema):t instanceof Ge?ht(t.innerType()):t instanceof $t?[t.value]:t instanceof Yt?t.options:t instanceof zt?te.objectValues(t.enum):t instanceof Xt?ht(t._def.innerType):t instanceof Ft?[void 0]:t instanceof Zt?[null]:t instanceof Ke?[void 0,...ht(t.unwrap())]:t instanceof et?[null,...ht(t.unwrap())]:t instanceof kr||t instanceof Jt?ht(t.unwrap()):t instanceof Wt?ht(t._def.innerType):[],Sn=class t extends W{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==k.object)return M(r,{code:N.invalid_type,expected:k.object,received:r.parsedType}),C;let n=this.discriminator,i=r.data[n],a=this.optionsMap.get(i);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(M(r,{code:N.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),C)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let i=new Map;for(let a of r){let c=ht(a.shape[e]);if(!c.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let u of c){if(i.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);i.set(u,a)}}return new t({typeName:q.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...X(n)})}};function Si(t,e){let r=bt(t),n=bt(e);if(t===e)return{valid:!0,data:t};if(r===k.object&&n===k.object){let i=te.objectKeys(e),a=te.objectKeys(t).filter(u=>i.indexOf(u)!==-1),c={...t,...e};for(let u of a){let m=Si(t[u],e[u]);if(!m.valid)return{valid:!1};c[u]=m.data}return{valid:!0,data:c}}else if(r===k.array&&n===k.array){if(t.length!==e.length)return{valid:!1};let i=[];for(let a=0;a<t.length;a++){let c=t[a],u=e[a],m=Si(c,u);if(!m.valid)return{valid:!1};i.push(m.data)}return{valid:!0,data:i}}else return r===k.date&&n===k.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var Kt=class extends W{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=(a,c)=>{if(Ti(a)||Ti(c))return C;let u=Si(a.value,c.value);return u.valid?((bi(a)||bi(c))&&r.dirty(),{status:r.value,value:u.data}):(M(n,{code:N.invalid_intersection_types}),C)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,c])=>i(a,c)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Kt.create=(t,e,r)=>new Kt({left:t,right:e,typeName:q.ZodIntersection,...X(r)});var Qe=class t extends W{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==k.array)return M(n,{code:N.invalid_type,expected:k.array,received:n.parsedType}),C;if(n.data.length<this._def.items.length)return M(n,{code:N.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),C;!this._def.rest&&n.data.length>this._def.items.length&&(M(n,{code:N.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let a=[...n.data].map((c,u)=>{let m=this._def.items[u]||this._def.rest;return m?m._parse(new Ce(n,c,n.path,u)):null}).filter(c=>!!c);return n.common.async?Promise.all(a).then(c=>we.mergeArray(r,c)):we.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};Qe.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qe({items:t,typeName:q.ZodTuple,rest:null,...X(e)})};var An=class t extends W{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==k.object)return M(n,{code:N.invalid_type,expected:k.object,received:n.parsedType}),C;let i=[],a=this._def.keyType,c=this._def.valueType;for(let u in n.data)i.push({key:a._parse(new Ce(n,u,n.path,u)),value:c._parse(new Ce(n,n.data[u],n.path,u)),alwaysSet:u in n.data});return n.common.async?we.mergeObjectAsync(r,i):we.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof W?new t({keyType:e,valueType:r,typeName:q.ZodRecord,...X(n)}):new t({keyType:St.create(),valueType:e,typeName:q.ZodRecord,...X(r)})}},dr=class extends W{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==k.map)return M(n,{code:N.invalid_type,expected:k.map,received:n.parsedType}),C;let i=this._def.keyType,a=this._def.valueType,c=[...n.data.entries()].map(([u,m],f)=>({key:i._parse(new Ce(n,u,n.path,[f,"key"])),value:a._parse(new Ce(n,m,n.path,[f,"value"]))}));if(n.common.async){let u=new Map;return Promise.resolve().then(async()=>{for(let m of c){let f=await m.key,p=await m.value;if(f.status==="aborted"||p.status==="aborted")return C;(f.status==="dirty"||p.status==="dirty")&&r.dirty(),u.set(f.value,p.value)}return{status:r.value,value:u}})}else{let u=new Map;for(let m of c){let f=m.key,p=m.value;if(f.status==="aborted"||p.status==="aborted")return C;(f.status==="dirty"||p.status==="dirty")&&r.dirty(),u.set(f.value,p.value)}return{status:r.value,value:u}}}};dr.create=(t,e,r)=>new dr({valueType:e,keyType:t,typeName:q.ZodMap,...X(r)});var hr=class t extends W{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==k.set)return M(n,{code:N.invalid_type,expected:k.set,received:n.parsedType}),C;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(M(n,{code:N.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(M(n,{code:N.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let a=this._def.valueType;function c(m){let f=new Set;for(let p of m){if(p.status==="aborted")return C;p.status==="dirty"&&r.dirty(),f.add(p.value)}return{status:r.value,value:f}}let u=[...n.data.values()].map((m,f)=>a._parse(new Ce(n,m,n.path,f)));return n.common.async?Promise.all(u).then(m=>c(m)):c(u)}min(e,r){return new t({...this._def,minSize:{value:e,message:V.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:V.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};hr.create=(t,e)=>new hr({valueType:t,minSize:null,maxSize:null,typeName:q.ZodSet,...X(e)});var In=class t extends W{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==k.function)return M(r,{code:N.invalid_type,expected:k.function,received:r.parsedType}),C;function n(u,m){return Tn({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,En(),cr].filter(f=>!!f),issueData:{code:N.invalid_arguments,argumentsError:m}})}function i(u,m){return Tn({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,En(),cr].filter(f=>!!f),issueData:{code:N.invalid_return_type,returnTypeError:m}})}let a={errorMap:r.common.contextualErrorMap},c=r.data;if(this._def.returns instanceof It){let u=this;return De(async function(...m){let f=new Be([]),p=await u._def.args.parseAsync(m,a).catch(P=>{throw f.addIssue(n(m,P)),f}),g=await Reflect.apply(c,this,p);return await u._def.returns._def.type.parseAsync(g,a).catch(P=>{throw f.addIssue(i(g,P)),f})})}else{let u=this;return De(function(...m){let f=u._def.args.safeParse(m,a);if(!f.success)throw new Be([n(m,f.error)]);let p=Reflect.apply(c,this,f.data),g=u._def.returns.safeParse(p,a);if(!g.success)throw new Be([i(p,g.error)]);return g.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:Qe.create(e).rest(mt.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new t({args:e||Qe.create([]).rest(mt.create()),returns:r||mt.create(),typeName:q.ZodFunction,...X(n)})}},Ct=class extends W{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Ct.create=(t,e)=>new Ct({getter:t,typeName:q.ZodLazy,...X(e)});var $t=class extends W{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return M(r,{received:r.data,code:N.invalid_literal,expected:this._def.value}),C}return{status:"valid",value:e.data}}get value(){return this._def.value}};$t.create=(t,e)=>new $t({value:t,typeName:q.ZodLiteral,...X(e)});function ya(t,e){return new Yt({values:t,typeName:q.ZodEnum,...X(e)})}var Yt=class t extends W{constructor(){super(...arguments),Dr.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return M(r,{expected:te.joinValues(n),received:r.parsedType,code:N.invalid_type}),C}if(bn(this,Dr)||ma(this,Dr,new Set(this._def.values)),!bn(this,Dr).has(e.data)){let r=this._getOrReturnCtx(e),n=this._def.values;return M(r,{received:r.data,code:N.invalid_enum_value,options:n}),C}return De(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}};Dr=new WeakMap;Yt.create=ya;var zt=class extends W{constructor(){super(...arguments),Lr.set(this,void 0)}_parse(e){let r=te.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==k.string&&n.parsedType!==k.number){let i=te.objectValues(r);return M(n,{expected:te.joinValues(i),received:n.parsedType,code:N.invalid_type}),C}if(bn(this,Lr)||ma(this,Lr,new Set(te.getValidEnumValues(this._def.values))),!bn(this,Lr).has(e.data)){let i=te.objectValues(r);return M(n,{received:n.data,code:N.invalid_enum_value,options:i}),C}return De(e.data)}get enum(){return this._def.values}};Lr=new WeakMap;zt.create=(t,e)=>new zt({values:t,typeName:q.ZodNativeEnum,...X(e)});var It=class extends W{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==k.promise&&r.common.async===!1)return M(r,{code:N.invalid_type,expected:k.promise,received:r.parsedType}),C;let n=r.parsedType===k.promise?r.data:Promise.resolve(r.data);return De(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};It.create=(t,e)=>new It({type:t,typeName:q.ZodPromise,...X(e)});var Ge=class extends W{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===q.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:c=>{M(n,c),c.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){let c=i.transform(n.data,a);if(n.common.async)return Promise.resolve(c).then(async u=>{if(r.value==="aborted")return C;let m=await this._def.schema._parseAsync({data:u,path:n.path,parent:n});return m.status==="aborted"?C:m.status==="dirty"||r.value==="dirty"?ur(m.value):m});{if(r.value==="aborted")return C;let u=this._def.schema._parseSync({data:c,path:n.path,parent:n});return u.status==="aborted"?C:u.status==="dirty"||r.value==="dirty"?ur(u.value):u}}if(i.type==="refinement"){let c=u=>{let m=i.refinement(u,a);if(n.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(n.common.async===!1){let u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?C:(u.status==="dirty"&&r.dirty(),c(u.value),{status:r.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?C:(u.status==="dirty"&&r.dirty(),c(u.value).then(()=>({status:r.value,value:u.value}))))}if(i.type==="transform")if(n.common.async===!1){let c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Pr(c))return c;let u=i.transform(c.value,a);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>Pr(c)?Promise.resolve(i.transform(c.value,a)).then(u=>({status:r.value,value:u})):c);te.assertNever(i)}};Ge.create=(t,e,r)=>new Ge({schema:t,typeName:q.ZodEffects,effect:e,...X(r)});Ge.createWithPreprocess=(t,e,r)=>new Ge({schema:e,effect:{type:"preprocess",transform:t},typeName:q.ZodEffects,...X(r)});var Ke=class extends W{_parse(e){return this._getType(e)===k.undefined?De(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Ke.create=(t,e)=>new Ke({innerType:t,typeName:q.ZodOptional,...X(e)});var et=class extends W{_parse(e){return this._getType(e)===k.null?De(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};et.create=(t,e)=>new et({innerType:t,typeName:q.ZodNullable,...X(e)});var Xt=class extends W{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===k.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};Xt.create=(t,e)=>new Xt({innerType:t,typeName:q.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...X(e)});var Wt=class extends W{_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Mr(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Be(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Be(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Wt.create=(t,e)=>new Wt({innerType:t,typeName:q.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...X(e)});var mr=class extends W{_parse(e){if(this._getType(e)!==k.nan){let n=this._getOrReturnCtx(e);return M(n,{code:N.invalid_type,expected:k.nan,received:n.parsedType}),C}return{status:"valid",value:e.data}}};mr.create=t=>new mr({typeName:q.ZodNaN,...X(t)});var Rl=Symbol("zod_brand"),kr=class extends W{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},Ur=class t extends W{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?C:a.status==="dirty"?(r.dirty(),ur(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?C:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new t({in:e,out:r,typeName:q.ZodPipeline})}},Jt=class extends W{_parse(e){let r=this._def.innerType._parse(e),n=i=>(Pr(i)&&(i.value=Object.freeze(i.value)),i);return Mr(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}};Jt.create=(t,e)=>new Jt({innerType:t,typeName:q.ZodReadonly,...X(e)});function wn(t,e={},r){return t?At.create().superRefine((n,i)=>{var a,c;if(!t(n)){let u=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,m=(c=(a=u.fatal)!==null&&a!==void 0?a:r)!==null&&c!==void 0?c:!0,f=typeof u=="string"?{message:u}:u;i.addIssue({code:"custom",...f,fatal:m})}}):At.create()}var xl={object:Me.lazycreate},q;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(q||(q={}));var Dl=(t,e={message:`Input not instance of ${t.name}`})=>wn(r=>r instanceof t,e),_=St.create,B=Gt.create,Ll=mr.create,Ai=Vt.create,K=Ht.create,Pl=jt.create,Ml=pr.create,kl=Ft.create,gr=Zt.create,Ul=At.create,Qt=mt.create,Bl=We.create,Gl=fr.create,ee=gt.create,R=Me.create,Vl=Me.strictCreate,Br=qt.create,Hl=Sn.create,jl=Kt.create,Fl=Qe.create,Zl=An.create,ql=dr.create,Kl=hr.create,Cl=In.create,$l=Ct.create,fe=$t.create,Yl=Yt.create,_t=zt.create,zl=It.create,da=Ge.create,Ii=Ke.create,Xl=et.create,wi=Ge.createWithPreprocess,Wl=Ur.create,Jl=()=>_().optional(),Ql=()=>B().optional(),eu=()=>K().optional(),tu={string:(t=>St.create({...t,coerce:!0})),number:(t=>Gt.create({...t,coerce:!0})),boolean:(t=>Ht.create({...t,coerce:!0})),bigint:(t=>Vt.create({...t,coerce:!0})),date:(t=>jt.create({...t,coerce:!0}))},ru=C,x=Object.freeze({__proto__:null,defaultErrorMap:cr,setErrorMap:fl,getErrorMap:En,makeIssue:Tn,EMPTY_PATH:dl,addIssueToContext:M,ParseStatus:we,INVALID:C,DIRTY:ur,OK:De,isAborted:Ti,isDirty:bi,isValid:Pr,isAsync:Mr,get util(){return te},get objectUtil(){return Ei},ZodParsedType:k,getParsedType:bt,ZodType:W,datetimeRegex:va,ZodString:St,ZodNumber:Gt,ZodBigInt:Vt,ZodBoolean:Ht,ZodDate:jt,ZodSymbol:pr,ZodUndefined:Ft,ZodNull:Zt,ZodAny:At,ZodUnknown:mt,ZodNever:We,ZodVoid:fr,ZodArray:gt,ZodObject:Me,ZodUnion:qt,ZodDiscriminatedUnion:Sn,ZodIntersection:Kt,ZodTuple:Qe,ZodRecord:An,ZodMap:dr,ZodSet:hr,ZodFunction:In,ZodLazy:Ct,ZodLiteral:$t,ZodEnum:Yt,ZodNativeEnum:zt,ZodPromise:It,ZodEffects:Ge,ZodTransformer:Ge,ZodOptional:Ke,ZodNullable:et,ZodDefault:Xt,ZodCatch:Wt,ZodNaN:mr,BRAND:Rl,ZodBranded:kr,ZodPipeline:Ur,ZodReadonly:Jt,custom:wn,Schema:W,ZodSchema:W,late:xl,get ZodFirstPartyTypeKind(){return q},coerce:tu,any:Ul,array:ee,bigint:Ai,boolean:K,date:Pl,discriminatedUnion:Hl,effect:da,enum:Yl,function:Cl,instanceof:Dl,intersection:jl,lazy:$l,literal:fe,map:ql,nan:Ll,nativeEnum:_t,never:Bl,null:gr,nullable:Xl,number:B,object:R,oboolean:eu,onumber:Ql,optional:Ii,ostring:Jl,pipeline:Wl,preprocess:wi,promise:zl,record:Zl,set:Kl,strictObject:Vl,string:_,symbol:Ml,transformer:da,tuple:Fl,undefined:kl,union:Br,unknown:Qt,void:Gl,NEVER:ru,ZodIssueCode:N,quotelessJson:pl,ZodError:Be});var Nn={exports:{}};var Ea;function Ta(){return Ea?Nn.exports:(Ea=1,(function(t){var e=(function(r){var n=1e7,i=7,a=9007199254740992,c=$(a),u="0123456789abcdefghijklmnopqrstuvwxyz",m=typeof BigInt=="function";function f(s,l,h,y){return typeof s>"u"?f[0]:typeof l<"u"?+l==10&&!h?Z(s):nn(s,l,h,y):Z(s)}function p(s,l){this.value=s,this.sign=l,this.isSmall=!1}p.prototype=Object.create(f.prototype);function g(s){this.value=s,this.sign=s<0,this.isSmall=!0}g.prototype=Object.create(f.prototype);function S(s){this.value=s}S.prototype=Object.create(f.prototype);function P(s){return-a<s&&s<a}function $(s){return s<1e7?[s]:s<1e14?[s%1e7,Math.floor(s/1e7)]:[s%1e7,Math.floor(s/1e7)%1e7,Math.floor(s/1e14)]}function j(s){L(s);var l=s.length;if(l<4&&st(s,c)<0)switch(l){case 0:return 0;case 1:return s[0];case 2:return s[0]+s[1]*n;default:return s[0]+(s[1]+s[2]*n)*n}return s}function L(s){for(var l=s.length;s[--l]===0;);s.length=l+1}function he(s){for(var l=new Array(s),h=-1;++h<s;)l[h]=0;return l}function ie(s){return s>0?Math.floor(s):Math.ceil(s)}function ae(s,l){var h=s.length,y=l.length,T=new Array(h),E=0,A=n,I,w;for(w=0;w<y;w++)I=s[w]+l[w]+E,E=I>=A?1:0,T[w]=I-E*A;for(;w<h;)I=s[w]+E,E=I===A?1:0,T[w++]=I-E*A;return E>0&&T.push(E),T}function Ne(s,l){return s.length>=l.length?ae(s,l):ae(l,s)}function ge(s,l){var h=s.length,y=new Array(h),T=n,E,A;for(A=0;A<h;A++)E=s[A]-T+l,l=Math.floor(E/T),y[A]=E-l*T,l+=1;for(;l>0;)y[A++]=l%T,l=Math.floor(l/T);return y}p.prototype.add=function(s){var l=Z(s);if(this.sign!==l.sign)return this.subtract(l.negate());var h=this.value,y=l.value;return l.isSmall?new p(ge(h,Math.abs(y)),this.sign):new p(Ne(h,y),this.sign)},p.prototype.plus=p.prototype.add,g.prototype.add=function(s){var l=Z(s),h=this.value;if(h<0!==l.sign)return this.subtract(l.negate());var y=l.value;if(l.isSmall){if(P(h+y))return new g(h+y);y=$(Math.abs(y))}return new p(ge(y,Math.abs(h)),h<0)},g.prototype.plus=g.prototype.add,S.prototype.add=function(s){return new S(this.value+Z(s).value)},S.prototype.plus=S.prototype.add;function je(s,l){var h=s.length,y=l.length,T=new Array(h),E=0,A=n,I,w;for(I=0;I<y;I++)w=s[I]-E-l[I],w<0?(w+=A,E=1):E=0,T[I]=w;for(I=y;I<h;I++){if(w=s[I]-E,w<0)w+=A;else{T[I++]=w;break}T[I]=w}for(;I<h;I++)T[I]=s[I];return L(T),T}function Se(s,l,h){var y;return st(s,l)>=0?y=je(s,l):(y=je(l,s),h=!h),y=j(y),typeof y=="number"?(h&&(y=-y),new g(y)):new p(y,h)}function Ue(s,l,h){var y=s.length,T=new Array(y),E=-l,A=n,I,w;for(I=0;I<y;I++)w=s[I]+E,E=Math.floor(w/A),w%=A,T[I]=w<0?w+A:w;return T=j(T),typeof T=="number"?(h&&(T=-T),new g(T)):new p(T,h)}p.prototype.subtract=function(s){var l=Z(s);if(this.sign!==l.sign)return this.add(l.negate());var h=this.value,y=l.value;return l.isSmall?Ue(h,Math.abs(y),this.sign):Se(h,y,this.sign)},p.prototype.minus=p.prototype.subtract,g.prototype.subtract=function(s){var l=Z(s),h=this.value;if(h<0!==l.sign)return this.add(l.negate());var y=l.value;return l.isSmall?new g(h-y):Ue(y,Math.abs(h),h>=0)},g.prototype.minus=g.prototype.subtract,S.prototype.subtract=function(s){return new S(this.value-Z(s).value)},S.prototype.minus=S.prototype.subtract,p.prototype.negate=function(){return new p(this.value,!this.sign)},g.prototype.negate=function(){var s=this.sign,l=new g(-this.value);return l.sign=!s,l},S.prototype.negate=function(){return new S(-this.value)},p.prototype.abs=function(){return new p(this.value,!1)},g.prototype.abs=function(){return new g(Math.abs(this.value))},S.prototype.abs=function(){return new S(this.value>=0?this.value:-this.value)};function Ye(s,l){var h=s.length,y=l.length,T=h+y,E=he(T),A=n,I,w,F,Q,Y;for(F=0;F<h;++F){Q=s[F];for(var re=0;re<y;++re)Y=l[re],I=Q*Y+E[F+re],w=Math.floor(I/A),E[F+re]=I-w*A,E[F+re+1]+=w}return L(E),E}function Fe(s,l){var h=s.length,y=new Array(h),T=n,E=0,A,I;for(I=0;I<h;I++)A=s[I]*l+E,E=Math.floor(A/T),y[I]=A-E*T;for(;E>0;)y[I++]=E%T,E=Math.floor(E/T);return y}function Oe(s,l){for(var h=[];l-- >0;)h.push(0);return h.concat(s)}function le(s,l){var h=Math.max(s.length,l.length);if(h<=30)return Ye(s,l);h=Math.ceil(h/2);var y=s.slice(h),T=s.slice(0,h),E=l.slice(h),A=l.slice(0,h),I=le(T,A),w=le(y,E),F=le(Ne(T,y),Ne(A,E)),Q=Ne(Ne(I,Oe(je(je(F,I),w),h)),Oe(w,2*h));return L(Q),Q}function ii(s,l){return-.012*s-.012*l+15e-6*s*l>0}p.prototype.multiply=function(s){var l=Z(s),h=this.value,y=l.value,T=this.sign!==l.sign,E;if(l.isSmall){if(y===0)return f[0];if(y===1)return this;if(y===-1)return this.negate();if(E=Math.abs(y),E<n)return new p(Fe(h,E),T);y=$(E)}return ii(h.length,y.length)?new p(le(h,y),T):new p(Ye(h,y),T)},p.prototype.times=p.prototype.multiply;function Yr(s,l,h){return s<n?new p(Fe(l,s),h):new p(Ye(l,$(s)),h)}g.prototype._multiplyBySmall=function(s){return P(s.value*this.value)?new g(s.value*this.value):Yr(Math.abs(s.value),$(Math.abs(this.value)),this.sign!==s.sign)},p.prototype._multiplyBySmall=function(s){return s.value===0?f[0]:s.value===1?this:s.value===-1?this.negate():Yr(Math.abs(s.value),this.value,this.sign!==s.sign)},g.prototype.multiply=function(s){return Z(s)._multiplyBySmall(this)},g.prototype.times=g.prototype.multiply,S.prototype.multiply=function(s){return new S(this.value*Z(s).value)},S.prototype.times=S.prototype.multiply;function zr(s){var l=s.length,h=he(l+l),y=n,T,E,A,I,w;for(A=0;A<l;A++){I=s[A],E=0-I*I;for(var F=A;F<l;F++)w=s[F],T=2*(I*w)+h[A+F]+E,E=Math.floor(T/y),h[A+F]=T-E*y;h[A+l]=E}return L(h),h}p.prototype.square=function(){return new p(zr(this.value),!1)},g.prototype.square=function(){var s=this.value*this.value;return P(s)?new g(s):new p(zr($(Math.abs(this.value))),!1)},S.prototype.square=function(s){return new S(this.value*this.value)};function ai(s,l){var h=s.length,y=l.length,T=n,E=he(l.length),A=l[y-1],I=Math.ceil(T/(2*A)),w=Fe(s,I),F=Fe(l,I),Q,Y,re,Re,Ae,wr,Nr;for(w.length<=h&&w.push(0),F.push(0),A=F[y-1],Y=h-y;Y>=0;Y--){for(Q=T-1,w[Y+y]!==A&&(Q=Math.floor((w[Y+y]*T+w[Y+y-1])/A)),re=0,Re=0,wr=F.length,Ae=0;Ae<wr;Ae++)re+=Q*F[Ae],Nr=Math.floor(re/T),Re+=w[Y+Ae]-(re-Nr*T),re=Nr,Re<0?(w[Y+Ae]=Re+T,Re=-1):(w[Y+Ae]=Re,Re=0);for(;Re!==0;){for(Q-=1,re=0,Ae=0;Ae<wr;Ae++)re+=w[Y+Ae]-T+F[Ae],re<0?(w[Y+Ae]=re+T,re=0):(w[Y+Ae]=re,re=1);Re+=re}E[Y]=Q}return w=Xr(w,I)[0],[j(E),j(w)]}function si(s,l){for(var h=s.length,y=l.length,T=[],E=[],A=n,I,w,F,Q,Y;h;){if(E.unshift(s[--h]),L(E),st(E,l)<0){T.push(0);continue}w=E.length,F=E[w-1]*A+E[w-2],Q=l[y-1]*A+l[y-2],w>y&&(F=(F+1)*A),I=Math.ceil(F/Q);do{if(Y=Fe(l,I),st(Y,E)<=0)break;I--}while(I);T.push(I),E=je(E,Y)}return T.reverse(),[j(T),j(E)]}function Xr(s,l){var h=s.length,y=he(h),T=n,E,A,I,w;for(I=0,E=h-1;E>=0;--E)w=I*T+s[E],A=ie(w/l),I=w-A*l,y[E]=A|0;return[y,I|0]}function at(s,l){var h,y=Z(l);if(m)return[new S(s.value/y.value),new S(s.value%y.value)];var T=s.value,E=y.value,A;if(E===0)throw new Error("Cannot divide by zero");if(s.isSmall)return y.isSmall?[new g(ie(T/E)),new g(T%E)]:[f[0],s];if(y.isSmall){if(E===1)return[s,f[0]];if(E==-1)return[s.negate(),f[0]];var I=Math.abs(E);if(I<n){h=Xr(T,I),A=j(h[0]);var w=h[1];return s.sign&&(w=-w),typeof A=="number"?(s.sign!==y.sign&&(A=-A),[new g(A),new g(w)]):[new p(A,s.sign!==y.sign),new g(w)]}E=$(I)}var F=st(T,E);if(F===-1)return[f[0],s];if(F===0)return[f[s.sign===y.sign?1:-1],f[0]];T.length+E.length<=200?h=ai(T,E):h=si(T,E),A=h[0];var Q=s.sign!==y.sign,Y=h[1],re=s.sign;return typeof A=="number"?(Q&&(A=-A),A=new g(A)):A=new p(A,Q),typeof Y=="number"?(re&&(Y=-Y),Y=new g(Y)):Y=new p(Y,re),[A,Y]}p.prototype.divmod=function(s){var l=at(this,s);return{quotient:l[0],remainder:l[1]}},S.prototype.divmod=g.prototype.divmod=p.prototype.divmod,p.prototype.divide=function(s){return at(this,s)[0]},S.prototype.over=S.prototype.divide=function(s){return new S(this.value/Z(s).value)},g.prototype.over=g.prototype.divide=p.prototype.over=p.prototype.divide,p.prototype.mod=function(s){return at(this,s)[1]},S.prototype.mod=S.prototype.remainder=function(s){return new S(this.value%Z(s).value)},g.prototype.remainder=g.prototype.mod=p.prototype.remainder=p.prototype.mod,p.prototype.pow=function(s){var l=Z(s),h=this.value,y=l.value,T,E,A;if(y===0)return f[1];if(h===0)return f[0];if(h===1)return f[1];if(h===-1)return l.isEven()?f[1]:f[-1];if(l.sign)return f[0];if(!l.isSmall)throw new Error("The exponent "+l.toString()+" is too large.");if(this.isSmall&&P(T=Math.pow(h,y)))return new g(ie(T));for(E=this,A=f[1];y&!0&&(A=A.times(E),--y),y!==0;)y/=2,E=E.square();return A},g.prototype.pow=p.prototype.pow,S.prototype.pow=function(s){var l=Z(s),h=this.value,y=l.value,T=BigInt(0),E=BigInt(1),A=BigInt(2);if(y===T)return f[1];if(h===T)return f[0];if(h===E)return f[1];if(h===BigInt(-1))return l.isEven()?f[1]:f[-1];if(l.isNegative())return new S(T);for(var I=this,w=f[1];(y&E)===E&&(w=w.times(I),--y),y!==T;)y/=A,I=I.square();return w},p.prototype.modPow=function(s,l){if(s=Z(s),l=Z(l),l.isZero())throw new Error("Cannot take modPow with modulus 0");var h=f[1],y=this.mod(l);for(s.isNegative()&&(s=s.multiply(f[-1]),y=y.modInv(l));s.isPositive();){if(y.isZero())return f[0];s.isOdd()&&(h=h.multiply(y).mod(l)),s=s.divide(2),y=y.square().mod(l)}return h},S.prototype.modPow=g.prototype.modPow=p.prototype.modPow;function st(s,l){if(s.length!==l.length)return s.length>l.length?1:-1;for(var h=s.length-1;h>=0;h--)if(s[h]!==l[h])return s[h]>l[h]?1:-1;return 0}p.prototype.compareAbs=function(s){var l=Z(s),h=this.value,y=l.value;return l.isSmall?1:st(h,y)},g.prototype.compareAbs=function(s){var l=Z(s),h=Math.abs(this.value),y=l.value;return l.isSmall?(y=Math.abs(y),h===y?0:h>y?1:-1):-1},S.prototype.compareAbs=function(s){var l=this.value,h=Z(s).value;return l=l>=0?l:-l,h=h>=0?h:-h,l===h?0:l>h?1:-1},p.prototype.compare=function(s){if(s===1/0)return-1;if(s===-1/0)return 1;var l=Z(s),h=this.value,y=l.value;return this.sign!==l.sign?l.sign?1:-1:l.isSmall?this.sign?-1:1:st(h,y)*(this.sign?-1:1)},p.prototype.compareTo=p.prototype.compare,g.prototype.compare=function(s){if(s===1/0)return-1;if(s===-1/0)return 1;var l=Z(s),h=this.value,y=l.value;return l.isSmall?h==y?0:h>y?1:-1:h<0!==l.sign?h<0?-1:1:h<0?1:-1},g.prototype.compareTo=g.prototype.compare,S.prototype.compare=function(s){if(s===1/0)return-1;if(s===-1/0)return 1;var l=this.value,h=Z(s).value;return l===h?0:l>h?1:-1},S.prototype.compareTo=S.prototype.compare,p.prototype.equals=function(s){return this.compare(s)===0},S.prototype.eq=S.prototype.equals=g.prototype.eq=g.prototype.equals=p.prototype.eq=p.prototype.equals,p.prototype.notEquals=function(s){return this.compare(s)!==0},S.prototype.neq=S.prototype.notEquals=g.prototype.neq=g.prototype.notEquals=p.prototype.neq=p.prototype.notEquals,p.prototype.greater=function(s){return this.compare(s)>0},S.prototype.gt=S.prototype.greater=g.prototype.gt=g.prototype.greater=p.prototype.gt=p.prototype.greater,p.prototype.lesser=function(s){return this.compare(s)<0},S.prototype.lt=S.prototype.lesser=g.prototype.lt=g.prototype.lesser=p.prototype.lt=p.prototype.lesser,p.prototype.greaterOrEquals=function(s){return this.compare(s)>=0},S.prototype.geq=S.prototype.greaterOrEquals=g.prototype.geq=g.prototype.greaterOrEquals=p.prototype.geq=p.prototype.greaterOrEquals,p.prototype.lesserOrEquals=function(s){return this.compare(s)<=0},S.prototype.leq=S.prototype.lesserOrEquals=g.prototype.leq=g.prototype.lesserOrEquals=p.prototype.leq=p.prototype.lesserOrEquals,p.prototype.isEven=function(){return(this.value[0]&1)===0},g.prototype.isEven=function(){return(this.value&1)===0},S.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},p.prototype.isOdd=function(){return(this.value[0]&1)===1},g.prototype.isOdd=function(){return(this.value&1)===1},S.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},p.prototype.isPositive=function(){return!this.sign},g.prototype.isPositive=function(){return this.value>0},S.prototype.isPositive=g.prototype.isPositive,p.prototype.isNegative=function(){return this.sign},g.prototype.isNegative=function(){return this.value<0},S.prototype.isNegative=g.prototype.isNegative,p.prototype.isUnit=function(){return!1},g.prototype.isUnit=function(){return Math.abs(this.value)===1},S.prototype.isUnit=function(){return this.abs().value===BigInt(1)},p.prototype.isZero=function(){return!1},g.prototype.isZero=function(){return this.value===0},S.prototype.isZero=function(){return this.value===BigInt(0)},p.prototype.isDivisibleBy=function(s){var l=Z(s);return l.isZero()?!1:l.isUnit()?!0:l.compareAbs(2)===0?this.isEven():this.mod(l).isZero()},S.prototype.isDivisibleBy=g.prototype.isDivisibleBy=p.prototype.isDivisibleBy;function Wr(s){var l=s.abs();if(l.isUnit())return!1;if(l.equals(2)||l.equals(3)||l.equals(5))return!0;if(l.isEven()||l.isDivisibleBy(3)||l.isDivisibleBy(5))return!1;if(l.lesser(49))return!0}function Sr(s,l){for(var h=s.prev(),y=h,T=0,E,A,I;y.isEven();)y=y.divide(2),T++;e:for(A=0;A<l.length;A++)if(!s.lesser(l[A])&&(I=e(l[A]).modPow(y,s),!(I.isUnit()||I.equals(h)))){for(E=T-1;E!=0;E--){if(I=I.square().mod(s),I.isUnit())return!1;if(I.equals(h))continue e}return!1}return!0}p.prototype.isPrime=function(s){var l=Wr(this);if(l!==r)return l;var h=this.abs(),y=h.bitLength();if(y<=64)return Sr(h,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var T=Math.log(2)*y.toJSNumber(),E=Math.ceil(s===!0?2*Math.pow(T,2):T),A=[],I=0;I<E;I++)A.push(e(I+2));return Sr(h,A)},S.prototype.isPrime=g.prototype.isPrime=p.prototype.isPrime,p.prototype.isProbablePrime=function(s,l){var h=Wr(this);if(h!==r)return h;for(var y=this.abs(),T=s===r?5:s,E=[],A=0;A<T;A++)E.push(e.randBetween(2,y.minus(2),l));return Sr(y,E)},S.prototype.isProbablePrime=g.prototype.isProbablePrime=p.prototype.isProbablePrime,p.prototype.modInv=function(s){for(var l=e.zero,h=e.one,y=Z(s),T=this.abs(),E,A,I;!T.isZero();)E=y.divide(T),A=l,I=y,l=h,y=T,h=A.subtract(E.multiply(h)),T=I.subtract(E.multiply(T));if(!y.isUnit())throw new Error(this.toString()+" and "+s.toString()+" are not co-prime");return l.compare(0)===-1&&(l=l.add(s)),this.isNegative()?l.negate():l},S.prototype.modInv=g.prototype.modInv=p.prototype.modInv,p.prototype.next=function(){var s=this.value;return this.sign?Ue(s,1,this.sign):new p(ge(s,1),this.sign)},g.prototype.next=function(){var s=this.value;return s+1<a?new g(s+1):new p(c,!1)},S.prototype.next=function(){return new S(this.value+BigInt(1))},p.prototype.prev=function(){var s=this.value;return this.sign?new p(ge(s,1),!0):Ue(s,1,this.sign)},g.prototype.prev=function(){var s=this.value;return s-1>-a?new g(s-1):new p(c,!0)},S.prototype.prev=function(){return new S(this.value-BigInt(1))};for(var ze=[1];2*ze[ze.length-1]<=n;)ze.push(2*ze[ze.length-1]);var Pt=ze.length,ot=ze[Pt-1];function Jr(s){return Math.abs(s)<=n}p.prototype.shiftLeft=function(s){var l=Z(s).toJSNumber();if(!Jr(l))throw new Error(String(l)+" is too large for shifting.");if(l<0)return this.shiftRight(-l);var h=this;if(h.isZero())return h;for(;l>=Pt;)h=h.multiply(ot),l-=Pt-1;return h.multiply(ze[l])},S.prototype.shiftLeft=g.prototype.shiftLeft=p.prototype.shiftLeft,p.prototype.shiftRight=function(s){var l,h=Z(s).toJSNumber();if(!Jr(h))throw new Error(String(h)+" is too large for shifting.");if(h<0)return this.shiftLeft(-h);for(var y=this;h>=Pt;){if(y.isZero()||y.isNegative()&&y.isUnit())return y;l=at(y,ot),y=l[1].isNegative()?l[0].prev():l[0],h-=Pt-1}return l=at(y,ze[h]),l[1].isNegative()?l[0].prev():l[0]},S.prototype.shiftRight=g.prototype.shiftRight=p.prototype.shiftRight;function Ar(s,l,h){l=Z(l);for(var y=s.isNegative(),T=l.isNegative(),E=y?s.not():s,A=T?l.not():l,I=0,w=0,F=null,Q=null,Y=[];!E.isZero()||!A.isZero();)F=at(E,ot),I=F[1].toJSNumber(),y&&(I=ot-1-I),Q=at(A,ot),w=Q[1].toJSNumber(),T&&(w=ot-1-w),E=F[0],A=Q[0],Y.push(h(I,w));for(var re=h(y?1:0,T?1:0)!==0?e(-1):e(0),Re=Y.length-1;Re>=0;Re-=1)re=re.multiply(ot).add(e(Y[Re]));return re}p.prototype.not=function(){return this.negate().prev()},S.prototype.not=g.prototype.not=p.prototype.not,p.prototype.and=function(s){return Ar(this,s,function(l,h){return l&h})},S.prototype.and=g.prototype.and=p.prototype.and,p.prototype.or=function(s){return Ar(this,s,function(l,h){return l|h})},S.prototype.or=g.prototype.or=p.prototype.or,p.prototype.xor=function(s){return Ar(this,s,function(l,h){return l^h})},S.prototype.xor=g.prototype.xor=p.prototype.xor;var se=1<<30,Qr=(n&-n)*(n&-n)|se;function nr(s){var l=s.value,h=typeof l=="number"?l|se:typeof l=="bigint"?l|BigInt(se):l[0]+l[1]*n|Qr;return h&-h}function Xe(s,l){if(l.compareTo(s)<=0){var h=Xe(s,l.square(l)),y=h.p,T=h.e,E=y.multiply(l);return E.compareTo(s)<=0?{p:E,e:T*2+1}:{p:y,e:T*2}}return{p:e(1),e:0}}p.prototype.bitLength=function(){var s=this;return s.compareTo(e(0))<0&&(s=s.negate().subtract(e(1))),s.compareTo(e(0))===0?e(0):e(Xe(s,e(2)).e).add(e(1))},S.prototype.bitLength=g.prototype.bitLength=p.prototype.bitLength;function Ir(s,l){return s=Z(s),l=Z(l),s.greater(l)?s:l}function ir(s,l){return s=Z(s),l=Z(l),s.lesser(l)?s:l}function en(s,l){if(s=Z(s).abs(),l=Z(l).abs(),s.equals(l))return s;if(s.isZero())return l;if(l.isZero())return s;for(var h=f[1],y,T;s.isEven()&&l.isEven();)y=ir(nr(s),nr(l)),s=s.divide(y),l=l.divide(y),h=h.multiply(y);for(;s.isEven();)s=s.divide(nr(s));do{for(;l.isEven();)l=l.divide(nr(l));s.greater(l)&&(T=l,l=s,s=T),l=l.subtract(s)}while(!l.isZero());return h.isUnit()?s:s.multiply(h)}function tn(s,l){return s=Z(s).abs(),l=Z(l).abs(),s.divide(en(s,l)).multiply(l)}function rn(s,l,h){s=Z(s),l=Z(l);var y=h||Math.random,T=ir(s,l),E=Ir(s,l),A=E.subtract(T).add(1);if(A.isSmall)return T.add(Math.floor(y()*A));for(var I=Mt(A,n).value,w=[],F=!0,Q=0;Q<I.length;Q++){var Y=F?I[Q]+(Q+1<I.length?I[Q+1]/n:0):n,re=ie(y()*Y);w.push(re),re<I[Q]&&(F=!1)}return T.add(f.fromArray(w,n,!1))}var nn=function(s,l,h,y){h=h||u,s=String(s),y||(s=s.toLowerCase(),h=h.toLowerCase());var T=s.length,E,A=Math.abs(l),I={};for(E=0;E<h.length;E++)I[h[E]]=E;for(E=0;E<T;E++){var w=s[E];if(w!=="-"&&w in I&&I[w]>=A){if(w==="1"&&A===1)continue;throw new Error(w+" is not a valid digit in base "+l+".")}}l=Z(l);var F=[],Q=s[0]==="-";for(E=Q?1:0;E<s.length;E++){var w=s[E];if(w in I)F.push(Z(I[w]));else if(w==="<"){var Y=E;do E++;while(s[E]!==">"&&E<s.length);F.push(Z(s.slice(Y+1,E)))}else throw new Error(w+" is not a valid character")}return an(F,l,Q)};function an(s,l,h){var y=f[0],T=f[1],E;for(E=s.length-1;E>=0;E--)y=y.add(s[E].times(T)),T=T.times(l);return h?y.negate():y}function oi(s,l){return l=l||u,s<l.length?l[s]:"<"+s+">"}function Mt(s,l){if(l=e(l),l.isZero()){if(s.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(l.equals(-1)){if(s.isZero())return{value:[0],isNegative:!1};if(s.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-s.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var h=Array.apply(null,Array(s.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return h.unshift([1]),{value:[].concat.apply([],h),isNegative:!1}}var y=!1;if(s.isNegative()&&l.isPositive()&&(y=!0,s=s.abs()),l.isUnit())return s.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(s.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:y};for(var T=[],E=s,A;E.isNegative()||E.compareAbs(l)>=0;){A=E.divmod(l),E=A.quotient;var I=A.remainder;I.isNegative()&&(I=l.minus(I).abs(),E=E.next()),T.push(I.toJSNumber())}return T.push(E.toJSNumber()),{value:T.reverse(),isNegative:y}}function sn(s,l,h){var y=Mt(s,l);return(y.isNegative?"-":"")+y.value.map(function(T){return oi(T,h)}).join("")}p.prototype.toArray=function(s){return Mt(this,s)},g.prototype.toArray=function(s){return Mt(this,s)},S.prototype.toArray=function(s){return Mt(this,s)},p.prototype.toString=function(s,l){if(s===r&&(s=10),s!==10||l)return sn(this,s,l);for(var h=this.value,y=h.length,T=String(h[--y]),E="0000000",A;--y>=0;)A=String(h[y]),T+=E.slice(A.length)+A;var I=this.sign?"-":"";return I+T},g.prototype.toString=function(s,l){return s===r&&(s=10),s!=10||l?sn(this,s,l):String(this.value)},S.prototype.toString=g.prototype.toString,S.prototype.toJSON=p.prototype.toJSON=g.prototype.toJSON=function(){return this.toString()},p.prototype.valueOf=function(){return parseInt(this.toString(),10)},p.prototype.toJSNumber=p.prototype.valueOf,g.prototype.valueOf=function(){return this.value},g.prototype.toJSNumber=g.prototype.valueOf,S.prototype.valueOf=S.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function on(s){if(P(+s)){var l=+s;if(l===ie(l))return m?new S(BigInt(l)):new g(l);throw new Error("Invalid integer: "+s)}var h=s[0]==="-";h&&(s=s.slice(1));var y=s.split(/e/i);if(y.length>2)throw new Error("Invalid integer: "+y.join("e"));if(y.length===2){var T=y[1];if(T[0]==="+"&&(T=T.slice(1)),T=+T,T!==ie(T)||!P(T))throw new Error("Invalid integer: "+T+" is not a valid exponent.");var E=y[0],A=E.indexOf(".");if(A>=0&&(T-=E.length-A-1,E=E.slice(0,A)+E.slice(A+1)),T<0)throw new Error("Cannot include negative exponent part for integers");E+=new Array(T+1).join("0"),s=E}var I=/^([0-9][0-9]*)$/.test(s);if(!I)throw new Error("Invalid integer: "+s);if(m)return new S(BigInt(h?"-"+s:s));for(var w=[],F=s.length,Q=i,Y=F-Q;F>0;)w.push(+s.slice(Y,F)),Y-=Q,Y<0&&(Y=0),F-=Q;return L(w),new p(w,h)}function li(s){if(m)return new S(BigInt(s));if(P(s)){if(s!==ie(s))throw new Error(s+" is not an integer.");return new g(s)}return on(s.toString())}function Z(s){return typeof s=="number"?li(s):typeof s=="string"?on(s):typeof s=="bigint"?new S(s):s}for(var lt=0;lt<1e3;lt++)f[lt]=Z(lt),lt>0&&(f[-lt]=Z(-lt));return f.one=f[1],f.zero=f[0],f.minusOne=f[-1],f.max=Ir,f.min=ir,f.gcd=en,f.lcm=tn,f.isInstance=function(s){return s instanceof p||s instanceof g||s instanceof S},f.randBetween=rn,f.fromArray=function(s,l,h){return an(s.map(Z),Z(l||10),h)},f})();t.hasOwnProperty("exports")&&(t.exports=e)})(Nn),Nn.exports)}var nu=Ta(),On=or(nu);var ba=64,Ni=16,wt=ba/Ni;function iu(){try{return!0}catch{return!1}}function au(t,e,r){let n=0;for(let i=0;i<r;i++){let a=t[e+i];if(a===void 0)break;n+=a*16**i}return n}function Sa(t){let e=[];for(let r=0;r<t.length;r++){let n=Number(t[r]);for(let i=0;n||i<e.length;i++)n+=(e[i]||0)*10,e[i]=n%16,n=(n-e[i])/16}return e}function su(t){let e=Sa(t),r=Array(wt);for(let n=0;n<wt;n++)r[wt-1-n]=au(e,n*wt,wt);return r}var Gr=class t{static fromString(e){return new t(su(e),e)}static fromBit(e){let r=Array(wt),n=Math.floor(e/Ni);for(let i=0;i<wt;i++)r[wt-1-i]=i===n?1<<e-n*Ni:0;return new t(r)}constructor(e,r){this.parts=e,this.str=r}and({parts:e}){return new t(this.parts.map((r,n)=>r&e[n]))}or({parts:e}){return new t(this.parts.map((r,n)=>r|e[n]))}xor({parts:e}){return new t(this.parts.map((r,n)=>r^e[n]))}not(){return new t(this.parts.map(e=>~e))}equals({parts:e}){return this.parts.every((r,n)=>r===e[n])}toString(){if(this.str!=null)return this.str;let e=new Array(ba/4);return this.parts.forEach((r,n)=>{let i=Sa(r.toString());for(let a=0;a<4;a++)e[a+n*4]=i[3-a]||0}),this.str=On.fromArray(e,16).toString()}toJSON(){return this.toString()}},Nt=iu();Nt&&BigInt.prototype.toJSON==null&&(BigInt.prototype.toJSON=function(){return this.toString()});var Rn={},Aa=Nt?function(e){return BigInt(e)}:function(e){return e instanceof Gr?e:(typeof e=="number"&&(e=e.toString()),Rn[e]!=null||(Rn[e]=Gr.fromString(e)),Rn[e])},Te=Aa(0),xn=Nt?function(e=Te,r=Te){return e&r}:function(e=Te,r=Te){return e.and(r)},Ia=Nt?function(e=Te,r=Te){return e|r}:function(e=Te,r=Te){return e.or(r)},ou=Nt?function(e=Te,r=Te){return e^r}:function(e=Te,r=Te){return e.xor(r)},lu=Nt?function(e=Te){return~e}:function(e=Te){return e.not()},Oi=Nt?function(e,r){return e===r}:function(e,r){return e==null||r==null?e==r:e.equals(r)};function uu(...t){let e=t[0];for(let r=1;r<t.length;r++)e=Ia(e,t[r]);return e}function cu(t,e){return Oi(xn(t,e),e)}function pu(t,e){return!Oi(xn(t,e),Te)}function fu(t,e){return e===Te?t:Ia(t,e)}function du(t,e){return e===Te?t:ou(t,xn(t,e))}var hu=Nt?function(e){return BigInt(1)<<BigInt(e)}:function(e){return Gr.fromBit(e)},H={combine:uu,add:fu,remove:du,filter:xn,invert:lu,has:cu,hasAny:pu,equals:Oi,deserialize:Aa,getFlag:hu};var Ri;(function(t){t[t.CLOSE_NORMAL=1e3]="CLOSE_NORMAL",t[t.CLOSE_UNSUPPORTED=1003]="CLOSE_UNSUPPORTED",t[t.CLOSE_ABNORMAL=1006]="CLOSE_ABNORMAL",t[t.INVALID_CLIENTID=4e3]="INVALID_CLIENTID",t[t.INVALID_ORIGIN=4001]="INVALID_ORIGIN",t[t.RATELIMITED=4002]="RATELIMITED",t[t.TOKEN_REVOKED=4003]="TOKEN_REVOKED",t[t.INVALID_VERSION=4004]="INVALID_VERSION",t[t.INVALID_ENCODING=4005]="INVALID_ENCODING"})(Ri||(Ri={}));var Vr;(function(t){t[t.INVALID_PAYLOAD=4e3]="INVALID_PAYLOAD",t[t.INVALID_COMMAND=4002]="INVALID_COMMAND",t[t.INVALID_EVENT=4004]="INVALID_EVENT",t[t.INVALID_PERMISSIONS=4006]="INVALID_PERMISSIONS"})(Vr||(Vr={}));var Hr;(function(t){t.LANDSCAPE="landscape",t.PORTRAIT="portrait"})(Hr||(Hr={}));var ke;(function(t){t.MOBILE="mobile",t.DESKTOP="desktop"})(ke||(ke={}));var mu=Object.freeze({CREATE_INSTANT_INVITE:H.getFlag(0),KICK_MEMBERS:H.getFlag(1),BAN_MEMBERS:H.getFlag(2),ADMINISTRATOR:H.getFlag(3),MANAGE_CHANNELS:H.getFlag(4),MANAGE_GUILD:H.getFlag(5),ADD_REACTIONS:H.getFlag(6),VIEW_AUDIT_LOG:H.getFlag(7),PRIORITY_SPEAKER:H.getFlag(8),STREAM:H.getFlag(9),VIEW_CHANNEL:H.getFlag(10),SEND_MESSAGES:H.getFlag(11),SEND_TTS_MESSAGES:H.getFlag(12),MANAGE_MESSAGES:H.getFlag(13),EMBED_LINKS:H.getFlag(14),ATTACH_FILES:H.getFlag(15),READ_MESSAGE_HISTORY:H.getFlag(16),MENTION_EVERYONE:H.getFlag(17),USE_EXTERNAL_EMOJIS:H.getFlag(18),VIEW_GUILD_INSIGHTS:H.getFlag(19),CONNECT:H.getFlag(20),SPEAK:H.getFlag(21),MUTE_MEMBERS:H.getFlag(22),DEAFEN_MEMBERS:H.getFlag(23),MOVE_MEMBERS:H.getFlag(24),USE_VAD:H.getFlag(25),CHANGE_NICKNAME:H.getFlag(26),MANAGE_NICKNAMES:H.getFlag(27),MANAGE_ROLES:H.getFlag(28),MANAGE_WEBHOOKS:H.getFlag(29),MANAGE_GUILD_EXPRESSIONS:H.getFlag(30),USE_APPLICATION_COMMANDS:H.getFlag(31),REQUEST_TO_SPEAK:H.getFlag(32),MANAGE_EVENTS:H.getFlag(33),MANAGE_THREADS:H.getFlag(34),CREATE_PUBLIC_THREADS:H.getFlag(35),CREATE_PRIVATE_THREADS:H.getFlag(36),USE_EXTERNAL_STICKERS:H.getFlag(37),SEND_MESSAGES_IN_THREADS:H.getFlag(38),USE_EMBEDDED_ACTIVITIES:H.getFlag(39),MODERATE_MEMBERS:H.getFlag(40),VIEW_CREATOR_MONETIZATION_ANALYTICS:H.getFlag(41),USE_SOUNDBOARD:H.getFlag(42),CREATE_GUILD_EXPRESSIONS:H.getFlag(43),CREATE_EVENTS:H.getFlag(44),USE_EXTERNAL_SOUNDS:H.getFlag(45),SEND_VOICE_MESSAGES:H.getFlag(46),SEND_POLLS:H.getFlag(49),USE_EXTERNAL_APPS:H.getFlag(50)}),xi=-1,wa=250;var Hn={};ua(Hn,{Activity:()=>Ot,Attachment:()=>Ua,CertifiedDevice:()=>Su,CertifiedDeviceTypeObject:()=>Xa,Channel:()=>kn,ChannelMention:()=>ka,ChannelTypesObject:()=>_r,Commands:()=>D,DISPATCH:()=>Pi,Embed:()=>Fa,EmbedAuthor:()=>Ha,EmbedField:()=>ja,EmbedFooter:()=>Ba,EmbedProvider:()=>Va,Emoji:()=>Mn,Entitlement:()=>vr,EntitlementTypesObject:()=>Ja,Guild:()=>bu,GuildMember:()=>Zr,GuildMemberRPC:()=>Mi,Image:()=>Pn,KeyTypesObject:()=>Ya,LayoutMode:()=>wu,LayoutModeTypeObject:()=>Vn,Message:()=>Ui,MessageActivity:()=>qa,MessageApplication:()=>Ka,MessageReference:()=>Ca,Orientation:()=>Iu,OrientationLockState:()=>Au,OrientationLockStateTypeObject:()=>Qa,OrientationTypeObject:()=>Gn,PermissionOverwrite:()=>La,PermissionOverwriteTypeObject:()=>Da,PresenceUpdate:()=>Pa,Reaction:()=>Za,ReceiveFramePayload:()=>Je,Role:()=>Ma,Scopes:()=>Tu,ScopesObject:()=>Ra,ShortcutKey:()=>Un,Sku:()=>Gi,SkuTypeObject:()=>Wa,Status:()=>Fr,StatusObject:()=>xa,ThermalState:()=>Vi,ThermalStateTypeObject:()=>es,User:()=>tt,UserVoiceState:()=>qr,Video:()=>Ga,VoiceDevice:()=>$a,VoiceSettingModeTypeObject:()=>za,VoiceSettingsIO:()=>Bn,VoiceSettingsMode:()=>Bi,VoiceState:()=>ki});function ve(t){return wi(e=>{var r;let[n]=(r=Object.entries(t).find(([,i])=>i===e))!==null&&r!==void 0?r:[];return e!=null&&n===void 0?t.UNHANDLED:e},_().or(B()))}function Dn(t){let e=wn().transform(r=>{let n=t.safeParse(r);return n.success?n.data:t._def.defaultValue()});return e.overlayType=t,e}var Di=x.object({image_url:x.string()}),gu=x.object({mediaUrl:x.string().max(1024)}),_u=x.object({access_token:x.union([x.string(),x.null()]).optional()}),jr=x.object({access_token:x.string(),user:x.object({username:x.string(),discriminator:x.string(),id:x.string(),avatar:x.union([x.string(),x.null()]).optional(),public_flags:x.number(),global_name:x.union([x.string(),x.null()]).optional()}),scopes:x.array(Dn(x.enum(["identify","email","connections","guilds","guilds.join","guilds.members.read","guilds.channels.read","gdm.join","bot","rpc","rpc.notifications.read","rpc.voice.read","rpc.voice.write","rpc.video.read","rpc.video.write","rpc.screenshare.read","rpc.screenshare.write","rpc.activities.write","webhook.incoming","messages.read","applications.builds.upload","applications.builds.read","applications.commands","applications.commands.permissions.update","applications.commands.update","applications.store.update","applications.entitlements","activities.read","activities.write","relationships.read","relationships.write","voice","dm_channels.read","role_connections.write","presences.read","presences.write","openid","dm_channels.messages.read","dm_channels.messages.write","gateway.connect","account.global_name.update","payment_sources.country_code","sdk.social_layer"]).or(x.literal(-1)).default(-1))),expires:x.string(),application:x.object({description:x.string(),icon:x.union([x.string(),x.null()]).optional(),id:x.string(),rpc_origins:x.array(x.string()).optional(),name:x.string()})}),Li=x.object({participants:x.array(x.object({id:x.string(),username:x.string(),global_name:x.union([x.string(),x.null()]).optional(),discriminator:x.string(),avatar:x.union([x.string(),x.null()]).optional(),flags:x.number(),bot:x.boolean(),avatar_decoration_data:x.union([x.object({asset:x.string(),skuId:x.string().optional()}),x.null()]).optional(),premium_type:x.union([x.number(),x.null()]).optional(),nickname:x.string().optional()}))}),vu=x.object({command:x.string(),content:x.string().max(2e3).optional(),preview_image:x.object({height:x.number(),url:x.string(),width:x.number()}).optional(),components:x.array(x.object({type:x.literal(1),components:x.array(x.object({type:x.literal(2),style:x.number().gte(1).lte(5),label:x.string().max(80).optional(),custom_id:x.string().max(100).describe("Developer-defined identifier for the button; max 100 characters").optional()})).max(5).optional()})).optional()}),yu=x.object({referrer_id:x.string().max(64).optional(),custom_id:x.string().max(64).optional(),message:x.string().max(1e3)}),Eu=x.object({success:x.boolean()}),ye;(function(t){t.INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",t.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",t.AUTHENTICATE="AUTHENTICATE",t.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS",t.SHARE_INTERACTION="SHARE_INTERACTION",t.SHARE_LINK="SHARE_LINK"})(ye||(ye={}));var Na=x.object({}).optional().nullable(),Oa=x.void(),Ln={[ye.INITIATE_IMAGE_UPLOAD]:{request:Oa,response:Di},[ye.OPEN_SHARE_MOMENT_DIALOG]:{request:gu,response:Na},[ye.AUTHENTICATE]:{request:_u,response:jr},[ye.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS]:{request:Oa,response:Li},[ye.SHARE_INTERACTION]:{request:vu,response:Na},[ye.SHARE_LINK]:{request:yu,response:Eu}};var Pi="DISPATCH",D;(function(t){t.AUTHORIZE="AUTHORIZE",t.AUTHENTICATE="AUTHENTICATE",t.GET_GUILDS="GET_GUILDS",t.GET_GUILD="GET_GUILD",t.GET_CHANNEL="GET_CHANNEL",t.GET_CHANNELS="GET_CHANNELS",t.SELECT_VOICE_CHANNEL="SELECT_VOICE_CHANNEL",t.SELECT_TEXT_CHANNEL="SELECT_TEXT_CHANNEL",t.SUBSCRIBE="SUBSCRIBE",t.UNSUBSCRIBE="UNSUBSCRIBE",t.CAPTURE_SHORTCUT="CAPTURE_SHORTCUT",t.SET_CERTIFIED_DEVICES="SET_CERTIFIED_DEVICES",t.SET_ACTIVITY="SET_ACTIVITY",t.GET_SKUS="GET_SKUS",t.GET_ENTITLEMENTS="GET_ENTITLEMENTS",t.GET_SKUS_EMBEDDED="GET_SKUS_EMBEDDED",t.GET_ENTITLEMENTS_EMBEDDED="GET_ENTITLEMENTS_EMBEDDED",t.START_PURCHASE="START_PURCHASE",t.SET_CONFIG="SET_CONFIG",t.SEND_ANALYTICS_EVENT="SEND_ANALYTICS_EVENT",t.USER_SETTINGS_GET_LOCALE="USER_SETTINGS_GET_LOCALE",t.OPEN_EXTERNAL_LINK="OPEN_EXTERNAL_LINK",t.ENCOURAGE_HW_ACCELERATION="ENCOURAGE_HW_ACCELERATION",t.CAPTURE_LOG="CAPTURE_LOG",t.SET_ORIENTATION_LOCK_STATE="SET_ORIENTATION_LOCK_STATE",t.OPEN_INVITE_DIALOG="OPEN_INVITE_DIALOG",t.GET_PLATFORM_BEHAVIORS="GET_PLATFORM_BEHAVIORS",t.GET_CHANNEL_PERMISSIONS="GET_CHANNEL_PERMISSIONS",t.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",t.INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",t.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS",t.SHARE_LINK="SHARE_LINK"})(D||(D={}));var Je=R({cmd:_(),data:Qt(),evt:gr(),nonce:_()}).passthrough(),Ra=Object.assign(Object.assign({},jr.shape.scopes.element.overlayType._def.innerType.options[0].Values),{UNHANDLED:-1}),Tu=ve(Ra),tt=R({id:_(),username:_(),discriminator:_(),global_name:_().optional().nullable(),avatar:_().optional().nullable(),avatar_decoration_data:R({asset:_(),sku_id:_().optional()}).nullable(),bot:K(),flags:B().optional().nullable(),premium_type:B().optional().nullable()}),Zr=R({user:tt,nick:_().optional().nullable(),roles:ee(_()),joined_at:_(),deaf:K(),mute:K()}),Mi=R({user_id:_(),nick:_().optional().nullable(),guild_id:_(),avatar:_().optional().nullable(),avatar_decoration_data:R({asset:_(),sku_id:_().optional().nullable()}).optional().nullable(),color_string:_().optional().nullable()}),Mn=R({id:_(),name:_().optional().nullable(),roles:ee(_()).optional().nullable(),user:tt.optional().nullable(),require_colons:K().optional().nullable(),managed:K().optional().nullable(),animated:K().optional().nullable(),available:K().optional().nullable()}),ki=R({mute:K(),deaf:K(),self_mute:K(),self_deaf:K(),suppress:K()}),qr=R({mute:K(),nick:_(),user:tt,voice_state:ki,volume:B()}),xa={UNHANDLED:-1,IDLE:"idle",DND:"dnd",ONLINE:"online",OFFLINE:"offline"},Fr=ve(xa),Ot=R({name:_(),type:B(),url:_().optional().nullable(),created_at:B().optional().nullable(),timestamps:R({start:B(),end:B()}).partial().optional().nullable(),application_id:_().optional().nullable(),details:_().optional().nullable(),state:_().optional().nullable(),emoji:Mn.optional().nullable(),party:R({id:_().optional().nullable(),size:ee(B()).optional().nullable()}).optional().nullable(),assets:R({large_image:_().nullable(),large_text:_().nullable(),small_image:_().nullable(),small_text:_().nullable()}).partial().optional().nullable(),secrets:R({join:_(),match:_()}).partial().optional().nullable(),instance:K().optional().nullable(),flags:B().optional().nullable()}),Da={UNHANDLED:-1,ROLE:0,MEMBER:1},La=R({id:_(),type:ve(Da),allow:_(),deny:_()}),_r={UNHANDLED:-1,DM:1,GROUP_DM:3,GUILD_TEXT:0,GUILD_VOICE:2,GUILD_CATEGORY:4,GUILD_ANNOUNCEMENT:5,GUILD_STORE:6,ANNOUNCEMENT_THREAD:10,PUBLIC_THREAD:11,PRIVATE_THREAD:12,GUILD_STAGE_VOICE:13,GUILD_DIRECTORY:14,GUILD_FORUM:15},kn=R({id:_(),type:ve(_r),guild_id:_().optional().nullable(),position:B().optional().nullable(),permission_overwrites:ee(La).optional().nullable(),name:_().optional().nullable(),topic:_().optional().nullable(),nsfw:K().optional().nullable(),last_message_id:_().optional().nullable(),bitrate:B().optional().nullable(),user_limit:B().optional().nullable(),rate_limit_per_user:B().optional().nullable(),recipients:ee(tt).optional().nullable(),icon:_().optional().nullable(),owner_id:_().optional().nullable(),application_id:_().optional().nullable(),parent_id:_().optional().nullable(),last_pin_timestamp:_().optional().nullable()}),Pa=R({user:tt,guild_id:_(),status:Fr,activities:ee(Ot),client_status:R({desktop:Fr,mobile:Fr,web:Fr}).partial()}),Ma=R({id:_(),name:_(),color:B(),hoist:K(),position:B(),permissions:_(),managed:K(),mentionable:K()}),bu=R({id:_(),name:_(),owner_id:_(),icon:_().nullable(),icon_hash:_().optional().nullable(),splash:_().nullable(),discovery_splash:_().nullable(),owner:K().optional().nullable(),permissions:_().optional().nullable(),region:_(),afk_channel_id:_().nullable(),afk_timeout:B(),widget_enabled:K().optional().nullable(),widget_channel_id:_().optional().nullable(),verification_level:B(),default_message_notifications:B(),explicit_content_filter:B(),roles:ee(Ma),emojis:ee(Mn),features:ee(_()),mfa_level:B(),application_id:_().nullable(),system_channel_id:_().nullable(),system_channel_flags:B(),rules_channel_id:_().nullable(),joined_at:_().optional().nullable(),large:K().optional().nullable(),unavailable:K().optional().nullable(),member_count:B().optional().nullable(),voice_states:ee(ki).optional().nullable(),members:ee(Zr).optional().nullable(),channels:ee(kn).optional().nullable(),presences:ee(Pa).optional().nullable(),max_presences:B().optional().nullable(),max_members:B().optional().nullable(),vanity_url_code:_().nullable(),description:_().nullable(),banner:_().nullable(),premium_tier:B(),premium_subscription_count:B().optional().nullable(),preferred_locale:_(),public_updates_channel_id:_().nullable(),max_video_channel_users:B().optional().nullable(),approximate_member_count:B().optional().nullable(),approximate_presence_count:B().optional().nullable()}),ka=R({id:_(),guild_id:_(),type:B(),name:_()}),Ua=R({id:_(),filename:_(),size:B(),url:_(),proxy_url:_(),height:B().optional().nullable(),width:B().optional().nullable()}),Ba=R({text:_(),icon_url:_().optional().nullable(),proxy_icon_url:_().optional().nullable()}),Pn=R({url:_().optional().nullable(),proxy_url:_().optional().nullable(),height:B().optional().nullable(),width:B().optional().nullable()}),Ga=Pn.omit({proxy_url:!0}),Va=R({name:_().optional().nullable(),url:_().optional().nullable()}),Ha=R({name:_().optional().nullable(),url:_().optional().nullable(),icon_url:_().optional().nullable(),proxy_icon_url:_().optional().nullable()}),ja=R({name:_(),value:_(),inline:K()}),Fa=R({title:_().optional().nullable(),type:_().optional().nullable(),description:_().optional().nullable(),url:_().optional().nullable(),timestamp:_().optional().nullable(),color:B().optional().nullable(),footer:Ba.optional().nullable(),image:Pn.optional().nullable(),thumbnail:Pn.optional().nullable(),video:Ga.optional().nullable(),provider:Va.optional().nullable(),author:Ha.optional().nullable(),fields:ee(ja).optional().nullable()}),Za=R({count:B(),me:K(),emoji:Mn}),qa=R({type:B(),party_id:_().optional().nullable()}),Ka=R({id:_(),cover_image:_().optional().nullable(),description:_(),icon:_().optional().nullable(),name:_()}),Ca=R({message_id:_().optional().nullable(),channel_id:_().optional().nullable(),guild_id:_().optional().nullable()}),Ui=R({id:_(),channel_id:_(),guild_id:_().optional().nullable(),author:tt.optional().nullable(),member:Zr.optional().nullable(),content:_(),timestamp:_(),edited_timestamp:_().optional().nullable(),tts:K(),mention_everyone:K(),mentions:ee(tt),mention_roles:ee(_()),mention_channels:ee(ka),attachments:ee(Ua),embeds:ee(Fa),reactions:ee(Za).optional().nullable(),nonce:Br([_(),B()]).optional().nullable(),pinned:K(),webhook_id:_().optional().nullable(),type:B(),activity:qa.optional().nullable(),application:Ka.optional().nullable(),message_reference:Ca.optional().nullable(),flags:B().optional().nullable(),stickers:ee(Qt()).optional().nullable(),referenced_message:Qt().optional().nullable()}),$a=R({id:_(),name:_()}),Ya={UNHANDLED:-1,KEYBOARD_KEY:0,MOUSE_BUTTON:1,KEYBOARD_MODIFIER_KEY:2,GAMEPAD_BUTTON:3},Un=R({type:ve(Ya),code:B(),name:_()}),za={UNHANDLED:-1,PUSH_TO_TALK:"PUSH_TO_TALK",VOICE_ACTIVITY:"VOICE_ACTIVITY"},Bi=R({type:ve(za),auto_threshold:K(),threshold:B(),shortcut:ee(Un),delay:B()}),Bn=R({device_id:_(),volume:B(),available_devices:ee($a)}),Xa={UNHANDLED:-1,AUDIO_INPUT:"AUDIO_INPUT",AUDIO_OUTPUT:"AUDIO_OUTPUT",VIDEO_INPUT:"VIDEO_INPUT"},Su=R({type:ve(Xa),id:_(),vendor:R({name:_(),url:_()}),model:R({name:_(),url:_()}),related:ee(_()),echo_cancellation:K().optional().nullable(),noise_suppression:K().optional().nullable(),automatic_gain_control:K().optional().nullable(),hardware_mute:K().optional().nullable()}),Wa={UNHANDLED:-1,APPLICATION:1,DLC:2,CONSUMABLE:3,BUNDLE:4,SUBSCRIPTION:5},Gi=R({id:_(),name:_(),type:ve(Wa),price:R({amount:B(),currency:_()}),application_id:_(),flags:B(),release_date:_().nullable()}),Ja={UNHANDLED:-1,PURCHASE:1,PREMIUM_SUBSCRIPTION:2,DEVELOPER_GIFT:3,TEST_MODE_PURCHASE:4,FREE_PURCHASE:5,USER_GIFT:6,PREMIUM_PURCHASE:7},vr=R({id:_(),sku_id:_(),application_id:_(),user_id:_(),gift_code_flags:B(),type:ve(Ja),gifter_user_id:_().optional().nullable(),branches:ee(_()).optional().nullable(),starts_at:_().optional().nullable(),ends_at:_().optional().nullable(),parent_id:_().optional().nullable(),consumed:K().optional().nullable(),deleted:K().optional().nullable(),gift_code_batch_id:_().optional().nullable()}),Qa={UNHANDLED:-1,UNLOCKED:1,PORTRAIT:2,LANDSCAPE:3},Au=ve(Qa),es={UNHANDLED:-1,NOMINAL:0,FAIR:1,SERIOUS:2,CRITICAL:3},Vi=ve(es),Gn={UNHANDLED:-1,PORTRAIT:0,LANDSCAPE:1},Iu=ve(Gn),Vn={UNHANDLED:-1,FOCUSED:0,PIP:1,GRID:2},wu=ve(Vn);var Kr="ERROR",ne;(function(t){t.READY="READY",t.VOICE_STATE_UPDATE="VOICE_STATE_UPDATE",t.SPEAKING_START="SPEAKING_START",t.SPEAKING_STOP="SPEAKING_STOP",t.ACTIVITY_LAYOUT_MODE_UPDATE="ACTIVITY_LAYOUT_MODE_UPDATE",t.ORIENTATION_UPDATE="ORIENTATION_UPDATE",t.CURRENT_USER_UPDATE="CURRENT_USER_UPDATE",t.CURRENT_GUILD_MEMBER_UPDATE="CURRENT_GUILD_MEMBER_UPDATE",t.ENTITLEMENT_CREATE="ENTITLEMENT_CREATE",t.THERMAL_STATE_UPDATE="THERMAL_STATE_UPDATE",t.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE="ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE"})(ne||(ne={}));var Ve=Je.extend({evt:_t(ne),nonce:_().nullable(),cmd:fe(Pi),data:R({}).passthrough()}),Hi=Je.extend({evt:fe(Kr),data:R({code:B(),message:_().optional()}).passthrough(),cmd:_t(D),nonce:_().nullable()}),Nu=Ve.extend({evt:_()}),ts=Br([Ve,Nu,Hi]);function rs(t){let e=t.evt;if(!(e in ne))throw new Error(`Unrecognized event type ${t.evt}`);return Ou[e].payload.parse(t)}var Ou={[ne.READY]:{payload:Ve.extend({evt:fe(ne.READY),data:R({v:B(),config:R({cdn_host:_().optional(),api_endpoint:_(),environment:_()}),user:R({id:_(),username:_(),discriminator:_(),avatar:_().optional()}).optional()})})},[ne.VOICE_STATE_UPDATE]:{payload:Ve.extend({evt:fe(ne.VOICE_STATE_UPDATE),data:qr}),subscribeArgs:R({channel_id:_()})},[ne.SPEAKING_START]:{payload:Ve.extend({evt:fe(ne.SPEAKING_START),data:R({lobby_id:_().optional(),channel_id:_().optional(),user_id:_()})}),subscribeArgs:R({lobby_id:_().nullable().optional(),channel_id:_().nullable().optional()})},[ne.SPEAKING_STOP]:{payload:Ve.extend({evt:fe(ne.SPEAKING_STOP),data:R({lobby_id:_().optional(),channel_id:_().optional(),user_id:_()})}),subscribeArgs:R({lobby_id:_().nullable().optional(),channel_id:_().nullable().optional()})},[ne.ACTIVITY_LAYOUT_MODE_UPDATE]:{payload:Ve.extend({evt:fe(ne.ACTIVITY_LAYOUT_MODE_UPDATE),data:R({layout_mode:ve(Vn)})})},[ne.ORIENTATION_UPDATE]:{payload:Ve.extend({evt:fe(ne.ORIENTATION_UPDATE),data:R({screen_orientation:ve(Gn),orientation:_t(Hr)})})},[ne.CURRENT_USER_UPDATE]:{payload:Ve.extend({evt:fe(ne.CURRENT_USER_UPDATE),data:tt})},[ne.CURRENT_GUILD_MEMBER_UPDATE]:{payload:Ve.extend({evt:fe(ne.CURRENT_GUILD_MEMBER_UPDATE),data:Mi}),subscribeArgs:R({guild_id:_()})},[ne.ENTITLEMENT_CREATE]:{payload:Ve.extend({evt:fe(ne.ENTITLEMENT_CREATE),data:R({entitlement:vr})})},[ne.THERMAL_STATE_UPDATE]:{payload:Ve.extend({evt:fe(ne.THERMAL_STATE_UPDATE),data:R({thermal_state:Vi})})},[ne.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE]:{payload:Ve.extend({evt:fe(ne.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE),data:R({participants:Li.shape.participants})})}};var Zi={};ua(Zi,{AuthenticateResponse:()=>jr,AuthorizeResponse:()=>jn,CaptureShortcutResponse:()=>cs,EmptyResponse:()=>xt,EncourageHardwareAccelerationResponse:()=>Yn,GetChannelPermissionsResponse:()=>zn,GetChannelResponse:()=>Rt,GetChannelsResponse:()=>ss,GetEntitlementsResponse:()=>qn,GetGuildResponse:()=>as,GetGuildsResponse:()=>is,GetPlatformBehaviorsResponse:()=>Wn,GetSkusResponse:()=>Zn,InitiateImageUploadResponse:()=>Di,NullableChannelResponse:()=>Ru,OpenExternalLinkResponse:()=>Xn,ResponseFrame:()=>ji,SelectTextChannelResponse:()=>ls,SelectVoiceChannelResponse:()=>os,SetActivityResponse:()=>Fn,SetConfigResponse:()=>Cn,StartPurchaseResponse:()=>Kn,SubscribeResponse:()=>us,UserSettingsGetLocaleResponse:()=>$n,VoiceSettingsResponse:()=>xu,parseResponsePayload:()=>Fi});function ns(t,e){throw e}var xt=R({}).nullable(),jn=R({code:_()}),is=R({guilds:ee(R({id:_(),name:_()}))}),as=R({id:_(),name:_(),icon_url:_().optional(),members:ee(Zr)}),Rt=R({id:_(),type:ve(_r),guild_id:_().optional().nullable(),name:_().optional().nullable(),topic:_().optional().nullable(),bitrate:B().optional().nullable(),user_limit:B().optional().nullable(),position:B().optional().nullable(),voice_states:ee(qr),messages:ee(Ui)}),ss=R({channels:ee(kn)}),Ru=Rt.nullable(),os=Rt.nullable(),ls=Rt.nullable(),xu=R({input:Bn,output:Bn,mode:Bi,automatic_gain_control:K(),echo_cancellation:K(),noise_suppression:K(),qos:K(),silence_warning:K(),deaf:K(),mute:K()}),us=R({evt:_()}),cs=R({shortcut:Un}),Fn=Ot,Zn=R({skus:ee(Gi)}),qn=R({entitlements:ee(vr)}),Kn=ee(vr).nullable(),Cn=R({use_interactive_pip:K()}),$n=R({locale:_()}),Yn=R({enabled:K()}),zn=R({permissions:Ai().or(_())}),Xn=Dn(R({opened:K().or(gr())}).default({opened:null})),Wn=R({iosKeyboardResizesView:Ii(K())}),ji=Je.extend({cmd:_t(D),evt:gr()});function Du({cmd:t,data:e}){switch(t){case D.AUTHORIZE:return jn.parse(e);case D.CAPTURE_SHORTCUT:return cs.parse(e);case D.ENCOURAGE_HW_ACCELERATION:return Yn.parse(e);case D.GET_CHANNEL:return Rt.parse(e);case D.GET_CHANNELS:return ss.parse(e);case D.GET_CHANNEL_PERMISSIONS:return zn.parse(e);case D.GET_GUILD:return as.parse(e);case D.GET_GUILDS:return is.parse(e);case D.GET_PLATFORM_BEHAVIORS:return Wn.parse(e);case D.GET_CHANNEL:return Rt.parse(e);case D.SELECT_TEXT_CHANNEL:return ls.parse(e);case D.SELECT_VOICE_CHANNEL:return os.parse(e);case D.SET_ACTIVITY:return Fn.parse(e);case D.GET_SKUS_EMBEDDED:return Zn.parse(e);case D.GET_ENTITLEMENTS_EMBEDDED:return qn.parse(e);case D.SET_CONFIG:return Cn.parse(e);case D.START_PURCHASE:return Kn.parse(e);case D.SUBSCRIBE:case D.UNSUBSCRIBE:return us.parse(e);case D.USER_SETTINGS_GET_LOCALE:return $n.parse(e);case D.OPEN_EXTERNAL_LINK:return Xn.parse(e);case D.SET_ORIENTATION_LOCK_STATE:case D.SET_CERTIFIED_DEVICES:case D.SEND_ANALYTICS_EVENT:case D.OPEN_INVITE_DIALOG:case D.CAPTURE_LOG:case D.GET_SKUS:case D.GET_ENTITLEMENTS:return xt.parse(e);case D.AUTHENTICATE:case D.INITIATE_IMAGE_UPLOAD:case D.OPEN_SHARE_MOMENT_DIALOG:case D.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS:case D.SHARE_LINK:let{response:r}=Ln[t];return r.parse(e);default:ns(t,new Error(`Unrecognized command ${t}`))}}function Fi(t){return Object.assign(Object.assign({},t),{data:Du(t)})}R({frame_id:_(),platform:_t(ke).optional().nullable()});R({v:fe(1),encoding:fe("json").optional(),client_id:_(),frame_id:_()});var ps=R({code:B(),message:_().optional()}),Lu=R({evt:_().nullable(),nonce:_().nullable(),data:Qt().nullable(),cmd:_()}).passthrough();function fs(t){let e=Lu.parse(t);return e.evt!=null?e.evt===Kr?Hi.parse(e):rs(ts.parse(e)):Fi(ji.passthrough().parse(e))}function oe(t,e,r,n=()=>{}){let i=Je.extend({cmd:fe(e),data:r});return async a=>{let c=await t({cmd:e,args:a,transfer:n(a)});return i.parse(c).data}}function rt(t,e=()=>{}){let r=Ln[t].response,n=Je.extend({cmd:fe(t),data:r});return i=>async a=>{let c=await i({cmd:t,args:a,transfer:e(a)});return n.parse(c).data}}var ds=rt(ye.AUTHENTICATE);var hs=t=>oe(t,D.AUTHORIZE,jn);var ms=t=>oe(t,D.CAPTURE_LOG,xt);var gs=t=>oe(t,D.ENCOURAGE_HW_ACCELERATION,Yn);var _s=t=>oe(t,D.GET_ENTITLEMENTS_EMBEDDED,qn);var vs=t=>oe(t,D.GET_SKUS_EMBEDDED,Zn);var ys=t=>oe(t,D.GET_CHANNEL_PERMISSIONS,zn);var Es=t=>oe(t,D.GET_PLATFORM_BEHAVIORS,Wn);var Ts=t=>oe(t,D.OPEN_EXTERNAL_LINK,Xn);var bs=t=>oe(t,D.OPEN_INVITE_DIALOG,xt);var Ss=rt(ye.OPEN_SHARE_MOMENT_DIALOG);Ot.pick({state:!0,details:!0,timestamps:!0,assets:!0,party:!0,secrets:!0,instance:!0,type:!0}).extend({type:Ot.shape.type.optional(),instance:Ot.shape.instance.optional()}).nullable();var As=t=>oe(t,D.SET_ACTIVITY,Fn);var Is=t=>oe(t,D.SET_CONFIG,Cn);function ws({sendCommand:t,cmd:e,response:r,fallbackTransform:n,transferTransform:i=()=>{}}){let a=Je.extend({cmd:fe(e),data:r});return async c=>{try{let u=await t({cmd:e,args:c,transfer:i(c)});return a.parse(u).data}catch(u){if(u.code===Vr.INVALID_PAYLOAD){let m=n(c),f=await t({cmd:e,args:m,transfer:i(m)});return a.parse(f).data}else throw u}}}var Pu=t=>({lock_state:t.lock_state,picture_in_picture_lock_state:t.picture_in_picture_lock_state}),Ns=t=>ws({sendCommand:t,cmd:D.SET_ORIENTATION_LOCK_STATE,response:xt,fallbackTransform:Pu});var Os=rt(ye.SHARE_LINK);var Rs=t=>oe(t,D.START_PURCHASE,Kn);var xs=t=>oe(t,D.USER_SETTINGS_GET_LOCALE,$n);var Ds=rt(ye.INITIATE_IMAGE_UPLOAD);var Ls=t=>oe(t,D.GET_CHANNEL,Rt);var Ps=rt(ye.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS);function Ms(t){return{authenticate:ds(t),authorize:hs(t),captureLog:ms(t),encourageHardwareAcceleration:gs(t),getChannel:Ls(t),getChannelPermissions:ys(t),getEntitlements:_s(t),getPlatformBehaviors:Es(t),getSkus:vs(t),openExternalLink:Ts(t),openInviteDialog:bs(t),openShareMomentDialog:Ss(t),setActivity:As(t),setConfig:Is(t),setOrientationLockState:Ns(t),shareLink:Os(t),startPurchase:Rs(t),userSettingsGetLocale:xs(t),initiateImageUpload:Ds(t),getInstanceConnectedParticipants:Ps(t)}}var Jn=class extends Error{constructor(e,r=""){super(r),this.code=e,this.message=r,this.name="Discord SDK Error"}};function Qn(){return{disableConsoleLogOverride:!1}}var ks=["log","warn","debug","info","error"];function Us(t,e,r){let n=t[e],i=t;n&&(t[e]=function(){let a=[].slice.call(arguments),c=""+a.join(" ");r(e,c),n.apply(i,a)})}var Bs="1.9.0";var Mu=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),qi={randomUUID:Mu};var ei,ku=new Uint8Array(16);function Gs(){if(!ei&&(ei=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ei))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ei(ku)}var be=[];for(ti=0;ti<256;++ti)be.push((ti+256).toString(16).slice(1));var ti;function Vs(t,e=0){return(be[t[e+0]]+be[t[e+1]]+be[t[e+2]]+be[t[e+3]]+"-"+be[t[e+4]]+be[t[e+5]]+"-"+be[t[e+6]]+be[t[e+7]]+"-"+be[t[e+8]]+be[t[e+9]]+"-"+be[t[e+10]]+be[t[e+11]]+be[t[e+12]]+be[t[e+13]]+be[t[e+14]]+be[t[e+15]]).toLowerCase()}function Ki(t,e,r){if(qi.randomUUID&&!e&&!t)return qi.randomUUID();t=t||{};var n=t.random||(t.rng||Gs)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Vs(n)}var vt;(function(t){t[t.HANDSHAKE=0]="HANDSHAKE",t[t.FRAME=1]="FRAME",t[t.CLOSE=2]="CLOSE",t[t.HELLO=3]="HELLO"})(vt||(vt={}));var Uu=new Set(Bu());function Bu(){return typeof window>"u"?[]:[window.location.origin,"https://discord.com","https://discordapp.com","https://ptb.discord.com","https://ptb.discordapp.com","https://canary.discord.com","https://canary.discordapp.com","https://staging.discord.co","http://localhost:3333","https://pax.discord.com","null"]}function Gu(){var t;return[(t=window.parent.opener)!==null&&t!==void 0?t:window.parent,document.referrer?document.referrer:"*"]}var Ci=class{getTransfer(e){var r;switch(e.cmd){case D.SUBSCRIBE:case D.UNSUBSCRIBE:return;default:return(r=e.transfer)!==null&&r!==void 0?r:void 0}}constructor(e,r){if(this.sdkVersion=Bs,this.mobileAppVersion=null,this.source=null,this.sourceOrigin="",this.eventBus=new yn,this.pendingCommands=new Map,this.sendCommand=u=>{var m;if(this.source==null)throw new Error("Attempting to send message before initialization");let f=Ki();return(m=this.source)===null||m===void 0||m.postMessage([vt.FRAME,Object.assign(Object.assign({},u),{nonce:f})],this.sourceOrigin,this.getTransfer(u)),new Promise((g,S)=>{this.pendingCommands.set(f,{resolve:g,reject:S})})},this.commands=Ms(this.sendCommand),this.handleMessage=u=>{if(!Uu.has(u.origin))return;let m=u.data;if(!Array.isArray(m))return;let[f,p]=m;switch(f){case vt.HELLO:return;case vt.CLOSE:return this.handleClose(p);case vt.HANDSHAKE:return this.handleHandshake();case vt.FRAME:return this.handleFrame(p);default:throw new Error("Invalid message format")}},this.isReady=!1,this.clientId=e,this.configuration=r??Qn(),typeof window<"u"&&window.addEventListener("message",this.handleMessage),typeof window>"u"){this.frameId="",this.instanceId="",this.customId=null,this.referrerId=null,this.platform=ke.DESKTOP,this.guildId=null,this.channelId=null,this.locationId=null;return}let n=new URLSearchParams(this._getSearch()),i=n.get("frame_id");if(!i)throw new Error("frame_id query param is not defined");this.frameId=i;let a=n.get("instance_id");if(!a)throw new Error("instance_id query param is not defined");this.instanceId=a;let c=n.get("platform");if(c){if(c!==ke.DESKTOP&&c!==ke.MOBILE)throw new Error(`Invalid query param "platform" of "${c}". Valid values are "${ke.DESKTOP}" or "${ke.MOBILE}"`)}else throw new Error("platform query param is not defined");this.platform=c,this.customId=n.get("custom_id"),this.referrerId=n.get("referrer_id"),this.guildId=n.get("guild_id"),this.channelId=n.get("channel_id"),this.locationId=n.get("location_id"),this.mobileAppVersion=n.get("mobile_app_version"),[this.source,this.sourceOrigin]=Gu(),this.addOnReadyListener(),this.handshake()}close(e,r){var n;window.removeEventListener("message",this.handleMessage);let i=Ki();(n=this.source)===null||n===void 0||n.postMessage([vt.CLOSE,{code:e,message:r,nonce:i}],this.sourceOrigin)}async subscribe(e,r,...n){let[i]=n,a=this.eventBus.listenerCount(e),c=this.eventBus.on(e,r);return Object.values(ne).includes(e)&&e!==ne.READY&&a===0&&await this.sendCommand({cmd:D.SUBSCRIBE,args:i,evt:e}),c}async unsubscribe(e,r,...n){let[i]=n;return e!==ne.READY&&this.eventBus.listenerCount(e)===1&&await this.sendCommand({cmd:D.UNSUBSCRIBE,evt:e,args:i}),this.eventBus.off(e,r)}async ready(){this.isReady||await new Promise(e=>{this.eventBus.once(ne.READY,e)})}parseMajorMobileVersion(){if(this.mobileAppVersion&&this.mobileAppVersion.includes("."))try{return parseInt(this.mobileAppVersion.split(".")[0])}catch{return xi}return xi}handshake(){var e;let r={v:1,encoding:"json",client_id:this.clientId,frame_id:this.frameId},n=this.parseMajorMobileVersion();(this.platform===ke.DESKTOP||n>=wa)&&(r.sdk_version=this.sdkVersion),(e=this.source)===null||e===void 0||e.postMessage([vt.HANDSHAKE,r],this.sourceOrigin)}addOnReadyListener(){this.eventBus.once(ne.READY,()=>{this.overrideConsoleLogging(),this.isReady=!0})}overrideConsoleLogging(){if(this.configuration.disableConsoleLogOverride)return;let e=(r,n)=>{this.commands.captureLog({level:r,message:n})};ks.forEach(r=>{Us(console,r,e)})}handleClose(e){ps.parse(e)}handleHandshake(){}handleFrame(e){var r,n;let i;try{i=fs(e)}catch(a){console.error("Failed to parse",e),console.error(a);return}if(i.cmd==="DISPATCH")this.eventBus.emit(i.evt,i.data);else{if(i.evt===Kr){if(i.nonce!=null){(r=this.pendingCommands.get(i.nonce))===null||r===void 0||r.reject(i.data),this.pendingCommands.delete(i.nonce);return}this.eventBus.emit("error",new Jn(i.data.code,i.data.message))}if(i.nonce==null){console.error("Missing nonce",e);return}(n=this.pendingCommands.get(i.nonce))===null||n===void 0||n.resolve(i),this.pendingCommands.delete(i.nonce)}}_getSearch(){return typeof window>"u"?"":window.location.search}};function Vu(t,e){return H.has(H.deserialize(e),t)}var Hu={can:Vu};var yr=1e9,ju={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zi,pe=!0,$e="[DecimalError] ",tr=$e+"Invalid argument: ",Yi=$e+"Exponent out of range: ",Er=Math.floor,er=Math.pow,Fu=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,He,Ee=1e7,ce=7,Fs=9007199254740991,ri=Er(Fs/ce),U={};U.absoluteValue=U.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};U.comparedTo=U.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};U.decimalPlaces=U.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*ce;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};U.dividedBy=U.div=function(t){return yt(this,new this.constructor(t))};U.dividedToIntegerBy=U.idiv=function(t){var e=this,r=e.constructor;return ue(yt(e,new r(t),0,1),r.precision)};U.equals=U.eq=function(t){return!this.cmp(t)};U.exponent=function(){return _e(this)};U.greaterThan=U.gt=function(t){return this.cmp(t)>0};U.greaterThanOrEqualTo=U.gte=function(t){return this.cmp(t)>=0};U.isInteger=U.isint=function(){return this.e>this.d.length-2};U.isNegative=U.isneg=function(){return this.s<0};U.isPositive=U.ispos=function(){return this.s>0};U.isZero=function(){return this.s===0};U.lessThan=U.lt=function(t){return this.cmp(t)<0};U.lessThanOrEqualTo=U.lte=function(t){return this.cmp(t)<1};U.logarithm=U.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(He))throw Error($e+"NaN");if(r.s<1)throw Error($e+(r.s?"NaN":"-Infinity"));return r.eq(He)?new n(0):(pe=!1,e=yt(Cr(r,a),Cr(t,a),a),pe=!0,ue(e,i))};U.minus=U.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Ks(e,t):Zs(e,(t.s=-t.s,t))};U.modulo=U.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error($e+"NaN");return r.s?(pe=!1,e=yt(r,t,0,1).times(t),pe=!0,r.minus(e)):ue(new n(r),i)};U.naturalExponential=U.exp=function(){return qs(this)};U.naturalLogarithm=U.ln=function(){return Cr(this)};U.negated=U.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};U.plus=U.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Zs(e,t):Ks(e,(t.s=-t.s,t))};U.precision=U.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(tr+t);if(e=_e(i)+1,n=i.d.length-1,r=n*ce+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};U.squareRoot=U.sqrt=function(){var t,e,r,n,i,a,c,u=this,m=u.constructor;if(u.s<1){if(!u.s)return new m(0);throw Error($e+"NaN")}for(t=_e(u),pe=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=nt(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Er((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new m(e)):n=new m(i.toString()),r=m.precision,i=c=r+3;;)if(a=n,n=a.plus(yt(u,a,c+2)).times(.5),nt(a.d).slice(0,c)===(e=nt(n.d)).slice(0,c)){if(e=e.slice(c-3,c+1),i==c&&e=="4999"){if(ue(a,r+1,0),a.times(a).eq(u)){n=a;break}}else if(e!="9999")break;c+=4}return pe=!0,ue(n,r)};U.times=U.mul=function(t){var e,r,n,i,a,c,u,m,f,p=this,g=p.constructor,S=p.d,P=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,r=p.e+t.e,m=S.length,f=P.length,m<f&&(a=S,S=P,P=a,c=m,m=f,f=c),a=[],c=m+f,n=c;n--;)a.push(0);for(n=f;--n>=0;){for(e=0,i=m+n;i>n;)u=a[i]+P[n]*S[i-n-1]+e,a[i--]=u%Ee|0,e=u/Ee|0;a[i]=(a[i]+e)%Ee|0}for(;!a[--c];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,pe?ue(t,g.precision):t};U.toDecimalPlaces=U.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(it(t,0,yr),e===void 0?e=n.rounding:it(e,0,8),ue(r,t+_e(r)+1,e))};U.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=rr(n,!0):(it(t,0,yr),e===void 0?e=i.rounding:it(e,0,8),n=ue(new i(n),t+1,e),r=rr(n,!0,t+1)),r};U.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?rr(i):(it(t,0,yr),e===void 0?e=a.rounding:it(e,0,8),n=ue(new a(i),t+_e(i)+1,e),r=rr(n.abs(),!1,t+_e(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};U.toInteger=U.toint=function(){var t=this,e=t.constructor;return ue(new e(t),_e(t)+1,e.rounding)};U.toNumber=function(){return+this};U.toPower=U.pow=function(t){var e,r,n,i,a,c,u=this,m=u.constructor,f=12,p=+(t=new m(t));if(!t.s)return new m(He);if(u=new m(u),!u.s){if(t.s<1)throw Error($e+"Infinity");return u}if(u.eq(He))return u;if(n=m.precision,t.eq(He))return ue(u,n);if(e=t.e,r=t.d.length-1,c=e>=r,a=u.s,c){if((r=p<0?-p:p)<=Fs){for(i=new m(He),e=Math.ceil(n/ce+4),pe=!1;r%2&&(i=i.times(u),js(i.d,e)),r=Er(r/2),r!==0;)u=u.times(u),js(u.d,e);return pe=!0,t.s<0?new m(He).div(i):ue(i,n)}}else if(a<0)throw Error($e+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,pe=!1,i=t.times(Cr(u,n+f)),pe=!0,i=qs(i),i.s=a,i};U.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=_e(i),n=rr(i,r<=a.toExpNeg||r>=a.toExpPos)):(it(t,1,yr),e===void 0?e=a.rounding:it(e,0,8),i=ue(new a(i),t,e),r=_e(i),n=rr(i,t<=r||r<=a.toExpNeg,t)),n};U.toSignificantDigits=U.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(it(t,1,yr),e===void 0?e=n.rounding:it(e,0,8)),ue(new n(r),t,e)};U.toString=U.valueOf=U.val=U.toJSON=U[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=_e(t),r=t.constructor;return rr(t,e<=r.toExpNeg||e>=r.toExpPos)};function Zs(t,e){var r,n,i,a,c,u,m,f,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),pe?ue(e,g):e;if(m=t.d,f=e.d,c=t.e,i=e.e,m=m.slice(),a=c-i,a){for(a<0?(n=m,a=-a,u=f.length):(n=f,i=c,u=m.length),c=Math.ceil(g/ce),u=c>u?c+1:u+1,a>u&&(a=u,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(u=m.length,a=f.length,u-a<0&&(a=u,n=f,f=m,m=n),r=0;a;)r=(m[--a]=m[a]+f[a]+r)/Ee|0,m[a]%=Ee;for(r&&(m.unshift(r),++i),u=m.length;m[--u]==0;)m.pop();return e.d=m,e.e=i,pe?ue(e,g):e}function it(t,e,r){if(t!==~~t||t<e||t>r)throw Error(tr+t)}function nt(t){var e,r,n,i=t.length-1,a="",c=t[0];if(i>0){for(a+=c,e=1;e<i;e++)n=t[e]+"",r=ce-n.length,r&&(a+=Dt(r)),a+=n;c=t[e],n=c+"",r=ce-n.length,r&&(a+=Dt(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return a+c}var yt=(function(){function t(n,i){var a,c=0,u=n.length;for(n=n.slice();u--;)a=n[u]*i+c,n[u]=a%Ee|0,c=a/Ee|0;return c&&n.unshift(c),n}function e(n,i,a,c){var u,m;if(a!=c)m=a>c?1:-1;else for(u=m=0;u<a;u++)if(n[u]!=i[u]){m=n[u]>i[u]?1:-1;break}return m}function r(n,i,a){for(var c=0;a--;)n[a]-=c,c=n[a]<i[a]?1:0,n[a]=c*Ee+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,c){var u,m,f,p,g,S,P,$,j,L,he,ie,ae,Ne,ge,je,Se,Ue,Ye=n.constructor,Fe=n.s==i.s?1:-1,Oe=n.d,le=i.d;if(!n.s)return new Ye(n);if(!i.s)throw Error($e+"Division by zero");for(m=n.e-i.e,Se=le.length,ge=Oe.length,P=new Ye(Fe),$=P.d=[],f=0;le[f]==(Oe[f]||0);)++f;if(le[f]>(Oe[f]||0)&&--m,a==null?ie=a=Ye.precision:c?ie=a+(_e(n)-_e(i))+1:ie=a,ie<0)return new Ye(0);if(ie=ie/ce+2|0,f=0,Se==1)for(p=0,le=le[0],ie++;(f<ge||p)&&ie--;f++)ae=p*Ee+(Oe[f]||0),$[f]=ae/le|0,p=ae%le|0;else{for(p=Ee/(le[0]+1)|0,p>1&&(le=t(le,p),Oe=t(Oe,p),Se=le.length,ge=Oe.length),Ne=Se,j=Oe.slice(0,Se),L=j.length;L<Se;)j[L++]=0;Ue=le.slice(),Ue.unshift(0),je=le[0],le[1]>=Ee/2&&++je;do p=0,u=e(le,j,Se,L),u<0?(he=j[0],Se!=L&&(he=he*Ee+(j[1]||0)),p=he/je|0,p>1?(p>=Ee&&(p=Ee-1),g=t(le,p),S=g.length,L=j.length,u=e(g,j,S,L),u==1&&(p--,r(g,Se<S?Ue:le,S))):(p==0&&(u=p=1),g=le.slice()),S=g.length,S<L&&g.unshift(0),r(j,g,L),u==-1&&(L=j.length,u=e(le,j,Se,L),u<1&&(p++,r(j,Se<L?Ue:le,L))),L=j.length):u===0&&(p++,j=[0]),$[f++]=p,u&&j[0]?j[L++]=Oe[Ne]||0:(j=[Oe[Ne]],L=1);while((Ne++<ge||j[0]!==void 0)&&ie--)}return $[0]||$.shift(),P.e=m,ue(P,c?a+_e(P)+1:a)}})();function qs(t,e){var r,n,i,a,c,u,m=0,f=0,p=t.constructor,g=p.precision;if(_e(t)>16)throw Error(Yi+_e(t));if(!t.s)return new p(He);for(e==null?(pe=!1,u=g):u=e,c=new p(.03125);t.abs().gte(.1);)t=t.times(c),f+=5;for(n=Math.log(er(2,f))/Math.LN10*2+5|0,u+=n,r=i=a=new p(He),p.precision=u;;){if(i=ue(i.times(t),u),r=r.times(++m),c=a.plus(yt(i,r,u)),nt(c.d).slice(0,u)===nt(a.d).slice(0,u)){for(;f--;)a=ue(a.times(a),u);return p.precision=g,e==null?(pe=!0,ue(a,g)):a}a=c}}function _e(t){for(var e=t.e*ce,r=t.d[0];r>=10;r/=10)e++;return e}function $i(t,e,r){if(e>t.LN10.sd())throw pe=!0,r&&(t.precision=r),Error($e+"LN10 precision limit exceeded");return ue(new t(t.LN10),e)}function Dt(t){for(var e="";t--;)e+="0";return e}function Cr(t,e){var r,n,i,a,c,u,m,f,p,g=1,S=10,P=t,$=P.d,j=P.constructor,L=j.precision;if(P.s<1)throw Error($e+(P.s?"NaN":"-Infinity"));if(P.eq(He))return new j(0);if(e==null?(pe=!1,f=L):f=e,P.eq(10))return e==null&&(pe=!0),$i(j,f);if(f+=S,j.precision=f,r=nt($),n=r.charAt(0),a=_e(P),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)P=P.times(t),r=nt(P.d),n=r.charAt(0),g++;a=_e(P),n>1?(P=new j("0."+r),a++):P=new j(n+"."+r.slice(1))}else return m=$i(j,f+2,L).times(a+""),P=Cr(new j(n+"."+r.slice(1)),f-S).plus(m),j.precision=L,e==null?(pe=!0,ue(P,L)):P;for(u=c=P=yt(P.minus(He),P.plus(He),f),p=ue(P.times(P),f),i=3;;){if(c=ue(c.times(p),f),m=u.plus(yt(c,new j(i),f)),nt(m.d).slice(0,f)===nt(u.d).slice(0,f))return u=u.times(2),a!==0&&(u=u.plus($i(j,f+2,L).times(a+""))),u=yt(u,new j(g),f),j.precision=L,e==null?(pe=!0,ue(u,L)):u;u=m,i+=2}}function Hs(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Er(r/ce),t.d=[],n=(r+1)%ce,r<0&&(n+=ce),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=ce;n<i;)t.d.push(+e.slice(n,n+=ce));e=e.slice(n),n=ce-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),pe&&(t.e>ri||t.e<-ri))throw Error(Yi+r)}else t.s=0,t.e=0,t.d=[0];return t}function ue(t,e,r){var n,i,a,c,u,m,f,p,g=t.d;for(c=1,a=g[0];a>=10;a/=10)c++;if(n=e-c,n<0)n+=ce,i=e,f=g[p=0];else{if(p=Math.ceil((n+1)/ce),a=g.length,p>=a)return t;for(f=a=g[p],c=1;a>=10;a/=10)c++;n%=ce,i=n-ce+c}if(r!==void 0&&(a=er(10,c-i-1),u=f/a%10|0,m=e<0||g[p+1]!==void 0||f%a,m=r<4?(u||m)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||m||r==6&&(n>0?i>0?f/er(10,c-i):0:g[p-1])%10&1||r==(t.s<0?8:7))),e<1||!g[0])return m?(a=_e(t),g.length=1,e=e-a-1,g[0]=er(10,(ce-e%ce)%ce),t.e=Er(-e/ce)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(n==0?(g.length=p,a=1,p--):(g.length=p+1,a=er(10,ce-n),g[p]=i>0?(f/er(10,c-i)%er(10,i)|0)*a:0),m)for(;;)if(p==0){(g[0]+=a)==Ee&&(g[0]=1,++t.e);break}else{if(g[p]+=a,g[p]!=Ee)break;g[p--]=0,a=1}for(n=g.length;g[--n]===0;)g.pop();if(pe&&(t.e>ri||t.e<-ri))throw Error(Yi+_e(t));return t}function Ks(t,e){var r,n,i,a,c,u,m,f,p,g,S=t.constructor,P=S.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new S(t),pe?ue(e,P):e;if(m=t.d,g=e.d,n=e.e,f=t.e,m=m.slice(),c=f-n,c){for(p=c<0,p?(r=m,c=-c,u=g.length):(r=g,n=f,u=m.length),i=Math.max(Math.ceil(P/ce),u)+2,c>i&&(c=i,r.length=1),r.reverse(),i=c;i--;)r.push(0);r.reverse()}else{for(i=m.length,u=g.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(m[i]!=g[i]){p=m[i]<g[i];break}c=0}for(p&&(r=m,m=g,g=r,e.s=-e.s),u=m.length,i=g.length-u;i>0;--i)m[u++]=0;for(i=g.length;i>c;){if(m[--i]<g[i]){for(a=i;a&&m[--a]===0;)m[a]=Ee-1;--m[a],m[i]+=Ee}m[i]-=g[i]}for(;m[--u]===0;)m.pop();for(;m[0]===0;m.shift())--n;return m[0]?(e.d=m,e.e=n,pe?ue(e,P):e):new S(0)}function rr(t,e,r){var n,i=_e(t),a=nt(t.d),c=a.length;return e?(r&&(n=r-c)>0?a=a.charAt(0)+"."+a.slice(1)+Dt(n):c>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Dt(-i-1)+a,r&&(n=r-c)>0&&(a+=Dt(n))):i>=c?(a+=Dt(i+1-c),r&&(n=r-i-1)>0&&(a=a+"."+Dt(n))):((n=i+1)<c&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-c)>0&&(i+1===c&&(a+="."),a+=Dt(n))),t.s<0?"-"+a:a}function js(t,e){if(t.length>e)return t.length=e,!0}function Cs(t){var e,r,n;function i(a){var c=this;if(!(c instanceof i))return new i(a);if(c.constructor=i,a instanceof i){c.s=a.s,c.e=a.e,c.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(tr+a);if(a>0)c.s=1;else if(a<0)a=-a,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(a===~~a&&a<1e7){c.e=0,c.d=[a];return}return Hs(c,a.toString())}else if(typeof a!="string")throw Error(tr+a);if(a.charCodeAt(0)===45?(a=a.slice(1),c.s=-1):c.s=1,Fu.test(a))Hs(c,a);else throw Error(tr+a)}if(i.prototype=U,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Cs,i.config=i.set=Zu,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Zu(t){if(!t||typeof t!="object")throw Error($e+"Object expected");var e,r,n,i=["precision",1,yr,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Er(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(tr+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(tr+r+": "+n);return this}var zi=Cs(ju);He=new zi(1);var $s=zi;var v;(function(t){t.AED="aed",t.AFN="afn",t.ALL="all",t.AMD="amd",t.ANG="ang",t.AOA="aoa",t.ARS="ars",t.AUD="aud",t.AWG="awg",t.AZN="azn",t.BAM="bam",t.BBD="bbd",t.BDT="bdt",t.BGN="bgn",t.BHD="bhd",t.BIF="bif",t.BMD="bmd",t.BND="bnd",t.BOB="bob",t.BOV="bov",t.BRL="brl",t.BSD="bsd",t.BTN="btn",t.BWP="bwp",t.BYN="byn",t.BYR="byr",t.BZD="bzd",t.CAD="cad",t.CDF="cdf",t.CHE="che",t.CHF="chf",t.CHW="chw",t.CLF="clf",t.CLP="clp",t.CNY="cny",t.COP="cop",t.COU="cou",t.CRC="crc",t.CUC="cuc",t.CUP="cup",t.CVE="cve",t.CZK="czk",t.DJF="djf",t.DKK="dkk",t.DOP="dop",t.DZD="dzd",t.EGP="egp",t.ERN="ern",t.ETB="etb",t.EUR="eur",t.FJD="fjd",t.FKP="fkp",t.GBP="gbp",t.GEL="gel",t.GHS="ghs",t.GIP="gip",t.GMD="gmd",t.GNF="gnf",t.GTQ="gtq",t.GYD="gyd",t.HKD="hkd",t.HNL="hnl",t.HRK="hrk",t.HTG="htg",t.HUF="huf",t.IDR="idr",t.ILS="ils",t.INR="inr",t.IQD="iqd",t.IRR="irr",t.ISK="isk",t.JMD="jmd",t.JOD="jod",t.JPY="jpy",t.KES="kes",t.KGS="kgs",t.KHR="khr",t.KMF="kmf",t.KPW="kpw",t.KRW="krw",t.KWD="kwd",t.KYD="kyd",t.KZT="kzt",t.LAK="lak",t.LBP="lbp",t.LKR="lkr",t.LRD="lrd",t.LSL="lsl",t.LTL="ltl",t.LVL="lvl",t.LYD="lyd",t.MAD="mad",t.MDL="mdl",t.MGA="mga",t.MKD="mkd",t.MMK="mmk",t.MNT="mnt",t.MOP="mop",t.MRO="mro",t.MUR="mur",t.MVR="mvr",t.MWK="mwk",t.MXN="mxn",t.MXV="mxv",t.MYR="myr",t.MZN="mzn",t.NAD="nad",t.NGN="ngn",t.NIO="nio",t.NOK="nok",t.NPR="npr",t.NZD="nzd",t.OMR="omr",t.PAB="pab",t.PEN="pen",t.PGK="pgk",t.PHP="php",t.PKR="pkr",t.PLN="pln",t.PYG="pyg",t.QAR="qar",t.RON="ron",t.RSD="rsd",t.RUB="rub",t.RWF="rwf",t.SAR="sar",t.SBD="sbd",t.SCR="scr",t.SDG="sdg",t.SEK="sek",t.SGD="sgd",t.SHP="shp",t.SLL="sll",t.SOS="sos",t.SRD="srd",t.SSP="ssp",t.STD="std",t.SVC="svc",t.SYP="syp",t.SZL="szl",t.THB="thb",t.TJS="tjs",t.TMT="tmt",t.TND="tnd",t.TOP="top",t.TRY="try",t.TTD="ttd",t.TWD="twd",t.TZS="tzs",t.UAH="uah",t.UGX="ugx",t.USD="usd",t.USN="usn",t.USS="uss",t.UYI="uyi",t.UYU="uyu",t.UZS="uzs",t.VEF="vef",t.VND="vnd",t.VUV="vuv",t.WST="wst",t.XAF="xaf",t.XAG="xag",t.XAU="xau",t.XBA="xba",t.XBB="xbb",t.XBC="xbc",t.XBD="xbd",t.XCD="xcd",t.XDR="xdr",t.XFU="xfu",t.XOF="xof",t.XPD="xpd",t.XPF="xpf",t.XPT="xpt",t.XSU="xsu",t.XTS="xts",t.XUA="xua",t.YER="yer",t.ZAR="zar",t.ZMW="zmw",t.ZWL="zwl"})(v||(v={}));var Ys={[v.AED]:2,[v.AFN]:2,[v.ALL]:2,[v.AMD]:2,[v.ANG]:2,[v.AOA]:2,[v.ARS]:2,[v.AUD]:2,[v.AWG]:2,[v.AZN]:2,[v.BAM]:2,[v.BBD]:2,[v.BDT]:2,[v.BGN]:2,[v.BHD]:3,[v.BIF]:0,[v.BMD]:2,[v.BND]:2,[v.BOB]:2,[v.BOV]:2,[v.BRL]:2,[v.BSD]:2,[v.BTN]:2,[v.BWP]:2,[v.BYR]:0,[v.BYN]:2,[v.BZD]:2,[v.CAD]:2,[v.CDF]:2,[v.CHE]:2,[v.CHF]:2,[v.CHW]:2,[v.CLF]:0,[v.CLP]:0,[v.CNY]:2,[v.COP]:2,[v.COU]:2,[v.CRC]:2,[v.CUC]:2,[v.CUP]:2,[v.CVE]:2,[v.CZK]:2,[v.DJF]:0,[v.DKK]:2,[v.DOP]:2,[v.DZD]:2,[v.EGP]:2,[v.ERN]:2,[v.ETB]:2,[v.EUR]:2,[v.FJD]:2,[v.FKP]:2,[v.GBP]:2,[v.GEL]:2,[v.GHS]:2,[v.GIP]:2,[v.GMD]:2,[v.GNF]:0,[v.GTQ]:2,[v.GYD]:2,[v.HKD]:2,[v.HNL]:2,[v.HRK]:2,[v.HTG]:2,[v.HUF]:2,[v.IDR]:2,[v.ILS]:2,[v.INR]:2,[v.IQD]:3,[v.IRR]:2,[v.ISK]:0,[v.JMD]:2,[v.JOD]:3,[v.JPY]:0,[v.KES]:2,[v.KGS]:2,[v.KHR]:2,[v.KMF]:0,[v.KPW]:2,[v.KRW]:0,[v.KWD]:3,[v.KYD]:2,[v.KZT]:2,[v.LAK]:2,[v.LBP]:2,[v.LKR]:2,[v.LRD]:2,[v.LSL]:2,[v.LTL]:2,[v.LVL]:2,[v.LYD]:3,[v.MAD]:2,[v.MDL]:2,[v.MGA]:2,[v.MKD]:2,[v.MMK]:2,[v.MNT]:2,[v.MOP]:2,[v.MRO]:2,[v.MUR]:2,[v.MVR]:2,[v.MWK]:2,[v.MXN]:2,[v.MXV]:2,[v.MYR]:2,[v.MZN]:2,[v.NAD]:2,[v.NGN]:2,[v.NIO]:2,[v.NOK]:2,[v.NPR]:2,[v.NZD]:2,[v.OMR]:3,[v.PAB]:2,[v.PEN]:2,[v.PGK]:2,[v.PHP]:2,[v.PKR]:2,[v.PLN]:2,[v.PYG]:0,[v.QAR]:2,[v.RON]:2,[v.RSD]:2,[v.RUB]:2,[v.RWF]:0,[v.SAR]:2,[v.SBD]:2,[v.SCR]:2,[v.SDG]:2,[v.SEK]:2,[v.SGD]:2,[v.SHP]:2,[v.SLL]:2,[v.SOS]:2,[v.SRD]:2,[v.SSP]:2,[v.STD]:2,[v.SVC]:2,[v.SYP]:2,[v.SZL]:2,[v.THB]:2,[v.TJS]:2,[v.TMT]:2,[v.TND]:3,[v.TOP]:2,[v.TRY]:2,[v.TTD]:2,[v.TWD]:2,[v.TZS]:2,[v.UAH]:2,[v.UGX]:0,[v.USD]:2,[v.USN]:2,[v.USS]:2,[v.UYI]:0,[v.UYU]:2,[v.UZS]:2,[v.VEF]:2,[v.VND]:0,[v.VUV]:0,[v.WST]:2,[v.XAF]:0,[v.XAG]:0,[v.XAU]:0,[v.XBA]:0,[v.XBB]:0,[v.XBC]:0,[v.XBD]:0,[v.XCD]:2,[v.XDR]:0,[v.XFU]:0,[v.XOF]:0,[v.XPD]:0,[v.XPF]:0,[v.XPT]:0,[v.XSU]:0,[v.XTS]:0,[v.XUA]:0,[v.YER]:2,[v.ZAR]:2,[v.ZMW]:2,[v.ZWL]:2};function qu(t,e="en-US"){let{amount:r,currency:n}=t;return Intl.NumberFormat(e,{style:"currency",currency:n}).format(Ku(r,n))}function Ku(t,e){let r=Ys[e];return r==null?(console.warn(`Unexpected currency ${e}`),t):new $s(t).dividedBy(10**r).toNumber()}var Cu={formatPrice:qu};var Tr={exports:{}};Tr.exports;var zs;function Xs(){return zs?Tr.exports:(zs=1,(function(t,e){var r=200,n="Expected a function",i="__lodash_hash_undefined__",a=1,c=2,u=1/0,m=9007199254740991,f="[object Arguments]",p="[object Array]",g="[object Boolean]",S="[object Date]",P="[object Error]",$="[object Function]",j="[object GeneratorFunction]",L="[object Map]",he="[object Number]",ie="[object Object]",ae="[object Promise]",Ne="[object RegExp]",ge="[object Set]",je="[object String]",Se="[object Symbol]",Ue="[object WeakMap]",Ye="[object ArrayBuffer]",Fe="[object DataView]",Oe="[object Float32Array]",le="[object Float64Array]",ii="[object Int8Array]",Yr="[object Int16Array]",zr="[object Int32Array]",ai="[object Uint8Array]",si="[object Uint8ClampedArray]",Xr="[object Uint16Array]",at="[object Uint32Array]",st=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wr=/^\w*$/,Sr=/^\./,ze=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pt=/[\\^$.*+?()[\]{}|]/g,ot=/\\(\\)?/g,Jr=/^\[object .+?Constructor\]$/,Ar=/^(?:0|[1-9]\d*)$/,se={};se[Oe]=se[le]=se[ii]=se[Yr]=se[zr]=se[ai]=se[si]=se[Xr]=se[at]=!0,se[f]=se[p]=se[Ye]=se[g]=se[Fe]=se[S]=se[P]=se[$]=se[L]=se[he]=se[ie]=se[Ne]=se[ge]=se[je]=se[Ue]=!1;var Qr=typeof xr=="object"&&xr&&xr.Object===Object&&xr,nr=typeof self=="object"&&self&&self.Object===Object&&self,Xe=Qr||nr||Function("return this")(),Ir=e&&!e.nodeType&&e,ir=Ir&&!0&&t&&!t.nodeType&&t,en=ir&&ir.exports===Ir,tn=en&&Qr.process,rn=(function(){try{return tn&&tn.binding("util")}catch{}})(),nn=rn&&rn.isTypedArray;function an(o,d){for(var b=-1,O=o?o.length:0;++b<O&&d(o[b],b,o)!==!1;);return o}function oi(o,d){for(var b=-1,O=o?o.length:0;++b<O;)if(d(o[b],b,o))return!0;return!1}function Mt(o){return function(d){return d?.[o]}}function sn(o,d){for(var b=-1,O=Array(o);++b<o;)O[b]=d(b);return O}function on(o){return function(d){return o(d)}}function li(o,d){return o?.[d]}function Z(o){var d=!1;if(o!=null&&typeof o.toString!="function")try{d=!!(o+"")}catch{}return d}function lt(o){var d=-1,b=Array(o.size);return o.forEach(function(O,z){b[++d]=[z,O]}),b}function s(o,d){return function(b){return o(d(b))}}function l(o){var d=-1,b=Array(o.size);return o.forEach(function(O){b[++d]=O}),b}var h=Array.prototype,y=Function.prototype,T=Object.prototype,E=Xe["__core-js_shared__"],A=(function(){var o=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""})(),I=y.toString,w=T.hasOwnProperty,F=T.toString,Q=RegExp("^"+I.call(w).replace(Pt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=Xe.Symbol,re=Xe.Uint8Array,Re=s(Object.getPrototypeOf,Object),Ae=Object.create,wr=T.propertyIsEnumerable,Nr=h.splice,ro=s(Object.keys,Object),ui=ar(Xe,"DataView"),Or=ar(Xe,"Map"),ci=ar(Xe,"Promise"),pi=ar(Xe,"Set"),fi=ar(Xe,"WeakMap"),Rr=ar(Object,"create"),no=Ut(ui),io=Ut(Or),ao=Ut(ci),so=Ut(pi),oo=Ut(fi),ln=Y?Y.prototype:void 0,di=ln?ln.valueOf:void 0,Wi=ln?ln.toString:void 0;function kt(o){var d=-1,b=o?o.length:0;for(this.clear();++d<b;){var O=o[d];this.set(O[0],O[1])}}function lo(){this.__data__=Rr?Rr(null):{}}function uo(o){return this.has(o)&&delete this.__data__[o]}function co(o){var d=this.__data__;if(Rr){var b=d[o];return b===i?void 0:b}return w.call(d,o)?d[o]:void 0}function po(o){var d=this.__data__;return Rr?d[o]!==void 0:w.call(d,o)}function fo(o,d){var b=this.__data__;return b[o]=Rr&&d===void 0?i:d,this}kt.prototype.clear=lo,kt.prototype.delete=uo,kt.prototype.get=co,kt.prototype.has=po,kt.prototype.set=fo;function ut(o){var d=-1,b=o?o.length:0;for(this.clear();++d<b;){var O=o[d];this.set(O[0],O[1])}}function ho(){this.__data__=[]}function mo(o){var d=this.__data__,b=cn(d,o);if(b<0)return!1;var O=d.length-1;return b==O?d.pop():Nr.call(d,b,1),!0}function go(o){var d=this.__data__,b=cn(d,o);return b<0?void 0:d[b][1]}function _o(o){return cn(this.__data__,o)>-1}function vo(o,d){var b=this.__data__,O=cn(b,o);return O<0?b.push([o,d]):b[O][1]=d,this}ut.prototype.clear=ho,ut.prototype.delete=mo,ut.prototype.get=go,ut.prototype.has=_o,ut.prototype.set=vo;function ct(o){var d=-1,b=o?o.length:0;for(this.clear();++d<b;){var O=o[d];this.set(O[0],O[1])}}function yo(){this.__data__={hash:new kt,map:new(Or||ut),string:new kt}}function Eo(o){return pn(this,o).delete(o)}function To(o){return pn(this,o).get(o)}function bo(o){return pn(this,o).has(o)}function So(o,d){return pn(this,o).set(o,d),this}ct.prototype.clear=yo,ct.prototype.delete=Eo,ct.prototype.get=To,ct.prototype.has=bo,ct.prototype.set=So;function un(o){var d=-1,b=o?o.length:0;for(this.__data__=new ct;++d<b;)this.add(o[d])}function Ao(o){return this.__data__.set(o,i),this}function Io(o){return this.__data__.has(o)}un.prototype.add=un.prototype.push=Ao,un.prototype.has=Io;function pt(o){this.__data__=new ut(o)}function wo(){this.__data__=new ut}function No(o){return this.__data__.delete(o)}function Oo(o){return this.__data__.get(o)}function Ro(o){return this.__data__.has(o)}function xo(o,d){var b=this.__data__;if(b instanceof ut){var O=b.__data__;if(!Or||O.length<r-1)return O.push([o,d]),this;b=this.__data__=new ct(O)}return b.set(o,d),this}pt.prototype.clear=wo,pt.prototype.delete=No,pt.prototype.get=Oo,pt.prototype.has=Ro,pt.prototype.set=xo;function Do(o,d){var b=ft(o)||aa(o)?sn(o.length,String):[],O=b.length,z=!!O;for(var G in o)w.call(o,G)&&!(z&&(G=="length"||ta(G,O)))&&b.push(G);return b}function cn(o,d){for(var b=o.length;b--;)if(ia(o[b][0],d))return b;return-1}function Lo(o){return sr(o)?Ae(o):{}}var Po=$o();function Mo(o,d){return o&&Po(o,d,mn)}function Ji(o,d){d=fn(d,o)?[d]:Qi(d);for(var b=0,O=d.length;o!=null&&b<O;)o=o[dn(d[b++])];return b&&b==O?o:void 0}function ko(o){return F.call(o)}function Uo(o,d){return o!=null&&d in Object(o)}function hi(o,d,b,O,z){return o===d?!0:o==null||d==null||!sr(o)&&!hn(d)?o!==o&&d!==d:Bo(o,d,hi,b,O,z)}function Bo(o,d,b,O,z,G){var J=ft(o),me=ft(d),de=p,Ie=p;J||(de=Et(o),de=de==f?ie:de),me||(Ie=Et(d),Ie=Ie==f?ie:Ie);var Le=de==ie&&!Z(o),Pe=Ie==ie&&!Z(d),xe=de==Ie;if(xe&&!Le)return G||(G=new pt),J||oa(o)?ea(o,d,b,O,z,G):Yo(o,d,de,b,O,z,G);if(!(z&c)){var Ze=Le&&w.call(o,"__wrapped__"),qe=Pe&&w.call(d,"__wrapped__");if(Ze||qe){var Tt=Ze?o.value():o,dt=qe?d.value():d;return G||(G=new pt),b(Tt,dt,O,z,G)}}return xe?(G||(G=new pt),zo(o,d,b,O,z,G)):!1}function Go(o,d,b,O){var z=b.length,G=z;if(o==null)return!G;for(o=Object(o);z--;){var J=b[z];if(J[2]?J[1]!==o[J[0]]:!(J[0]in o))return!1}for(;++z<G;){J=b[z];var me=J[0],de=o[me],Ie=J[1];if(J[2]){if(de===void 0&&!(me in o))return!1}else{var Le=new pt,Pe;if(!(Pe===void 0?hi(Ie,de,O,a|c,Le):Pe))return!1}}return!0}function Vo(o){if(!sr(o)||Qo(o))return!1;var d=gi(o)||Z(o)?Q:Jr;return d.test(Ut(o))}function Ho(o){return hn(o)&&_i(o.length)&&!!se[F.call(o)]}function jo(o){return typeof o=="function"?o:o==null?ol:typeof o=="object"?ft(o)?qo(o[0],o[1]):Zo(o):ll(o)}function Fo(o){if(!el(o))return ro(o);var d=[];for(var b in Object(o))w.call(o,b)&&b!="constructor"&&d.push(b);return d}function Zo(o){var d=Xo(o);return d.length==1&&d[0][2]?na(d[0][0],d[0][1]):function(b){return b===o||Go(b,o,d)}}function qo(o,d){return fn(o)&&ra(d)?na(dn(o),d):function(b){var O=il(b,o);return O===void 0&&O===d?al(b,o):hi(d,O,void 0,a|c)}}function Ko(o){return function(d){return Ji(d,o)}}function Co(o){if(typeof o=="string")return o;if(vi(o))return Wi?Wi.call(o):"";var d=o+"";return d=="0"&&1/o==-u?"-0":d}function Qi(o){return ft(o)?o:tl(o)}function $o(o){return function(d,b,O){for(var z=-1,G=Object(d),J=O(d),me=J.length;me--;){var de=J[++z];if(b(G[de],de,G)===!1)break}return d}}function ea(o,d,b,O,z,G){var J=z&c,me=o.length,de=d.length;if(me!=de&&!(J&&de>me))return!1;var Ie=G.get(o);if(Ie&&G.get(d))return Ie==d;var Le=-1,Pe=!0,xe=z&a?new un:void 0;for(G.set(o,d),G.set(d,o);++Le<me;){var Ze=o[Le],qe=d[Le];if(O)var Tt=J?O(qe,Ze,Le,d,o,G):O(Ze,qe,Le,o,d,G);if(Tt!==void 0){if(Tt)continue;Pe=!1;break}if(xe){if(!oi(d,function(dt,Bt){if(!xe.has(Bt)&&(Ze===dt||b(Ze,dt,O,z,G)))return xe.add(Bt)})){Pe=!1;break}}else if(!(Ze===qe||b(Ze,qe,O,z,G))){Pe=!1;break}}return G.delete(o),G.delete(d),Pe}function Yo(o,d,b,O,z,G,J){switch(b){case Fe:if(o.byteLength!=d.byteLength||o.byteOffset!=d.byteOffset)return!1;o=o.buffer,d=d.buffer;case Ye:return!(o.byteLength!=d.byteLength||!O(new re(o),new re(d)));case g:case S:case he:return ia(+o,+d);case P:return o.name==d.name&&o.message==d.message;case Ne:case je:return o==d+"";case L:var me=lt;case ge:var de=G&c;if(me||(me=l),o.size!=d.size&&!de)return!1;var Ie=J.get(o);if(Ie)return Ie==d;G|=a,J.set(o,d);var Le=ea(me(o),me(d),O,z,G,J);return J.delete(o),Le;case Se:if(di)return di.call(o)==di.call(d)}return!1}function zo(o,d,b,O,z,G){var J=z&c,me=mn(o),de=me.length,Ie=mn(d),Le=Ie.length;if(de!=Le&&!J)return!1;for(var Pe=de;Pe--;){var xe=me[Pe];if(!(J?xe in d:w.call(d,xe)))return!1}var Ze=G.get(o);if(Ze&&G.get(d))return Ze==d;var qe=!0;G.set(o,d),G.set(d,o);for(var Tt=J;++Pe<de;){xe=me[Pe];var dt=o[xe],Bt=d[xe];if(O)var la=J?O(Bt,dt,xe,d,o,G):O(dt,Bt,xe,o,d,G);if(!(la===void 0?dt===Bt||b(dt,Bt,O,z,G):la)){qe=!1;break}Tt||(Tt=xe=="constructor")}if(qe&&!Tt){var gn=o.constructor,_n=d.constructor;gn!=_n&&"constructor"in o&&"constructor"in d&&!(typeof gn=="function"&&gn instanceof gn&&typeof _n=="function"&&_n instanceof _n)&&(qe=!1)}return G.delete(o),G.delete(d),qe}function pn(o,d){var b=o.__data__;return Jo(d)?b[typeof d=="string"?"string":"hash"]:b.map}function Xo(o){for(var d=mn(o),b=d.length;b--;){var O=d[b],z=o[O];d[b]=[O,z,ra(z)]}return d}function ar(o,d){var b=li(o,d);return Vo(b)?b:void 0}var Et=ko;(ui&&Et(new ui(new ArrayBuffer(1)))!=Fe||Or&&Et(new Or)!=L||ci&&Et(ci.resolve())!=ae||pi&&Et(new pi)!=ge||fi&&Et(new fi)!=Ue)&&(Et=function(o){var d=F.call(o),b=d==ie?o.constructor:void 0,O=b?Ut(b):void 0;if(O)switch(O){case no:return Fe;case io:return L;case ao:return ae;case so:return ge;case oo:return Ue}return d});function Wo(o,d,b){d=fn(d,o)?[d]:Qi(d);for(var O,z=-1,J=d.length;++z<J;){var G=dn(d[z]);if(!(O=o!=null&&b(o,G)))break;o=o[G]}if(O)return O;var J=o?o.length:0;return!!J&&_i(J)&&ta(G,J)&&(ft(o)||aa(o))}function ta(o,d){return d=d??m,!!d&&(typeof o=="number"||Ar.test(o))&&o>-1&&o%1==0&&o<d}function fn(o,d){if(ft(o))return!1;var b=typeof o;return b=="number"||b=="symbol"||b=="boolean"||o==null||vi(o)?!0:Wr.test(o)||!st.test(o)||d!=null&&o in Object(d)}function Jo(o){var d=typeof o;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?o!=="__proto__":o===null}function Qo(o){return!!A&&A in o}function el(o){var d=o&&o.constructor,b=typeof d=="function"&&d.prototype||T;return o===b}function ra(o){return o===o&&!sr(o)}function na(o,d){return function(b){return b==null?!1:b[o]===d&&(d!==void 0||o in Object(b))}}var tl=mi(function(o){o=nl(o);var d=[];return Sr.test(o)&&d.push(""),o.replace(ze,function(b,O,z,G){d.push(z?G.replace(ot,"$1"):O||b)}),d});function dn(o){if(typeof o=="string"||vi(o))return o;var d=o+"";return d=="0"&&1/o==-u?"-0":d}function Ut(o){if(o!=null){try{return I.call(o)}catch{}try{return o+""}catch{}}return""}function mi(o,d){if(typeof o!="function"||d&&typeof d!="function")throw new TypeError(n);var b=function(){var O=arguments,z=d?d.apply(this,O):O[0],G=b.cache;if(G.has(z))return G.get(z);var J=o.apply(this,O);return b.cache=G.set(z,J),J};return b.cache=new(mi.Cache||ct),b}mi.Cache=ct;function ia(o,d){return o===d||o!==o&&d!==d}function aa(o){return rl(o)&&w.call(o,"callee")&&(!wr.call(o,"callee")||F.call(o)==f)}var ft=Array.isArray;function sa(o){return o!=null&&_i(o.length)&&!gi(o)}function rl(o){return hn(o)&&sa(o)}function gi(o){var d=sr(o)?F.call(o):"";return d==$||d==j}function _i(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=m}function sr(o){var d=typeof o;return!!o&&(d=="object"||d=="function")}function hn(o){return!!o&&typeof o=="object"}function vi(o){return typeof o=="symbol"||hn(o)&&F.call(o)==Se}var oa=nn?on(nn):Ho;function nl(o){return o==null?"":Co(o)}function il(o,d,b){var O=o==null?void 0:Ji(o,d);return O===void 0?b:O}function al(o,d){return o!=null&&Wo(o,d,Uo)}function mn(o){return sa(o)?Do(o):Fo(o)}function sl(o,d,b){var O=ft(o)||oa(o);if(d=jo(d),b==null)if(O||sr(o)){var z=o.constructor;O?b=ft(o)?new z:[]:b=gi(z)?Lo(Re(o)):{}}else b={};return(O?an:Mo)(o,function(G,J,me){return d(b,G,J,me)}),b}function ol(o){return o}function ll(o){return fn(o)?Mt(dn(o)):Ko(o)}t.exports=sl})(Tr,Tr.exports),Tr.exports)}var $u=Xs(),Ws=or($u);var Xi=class{constructor(e,r,n,i){this.platform=ke.DESKTOP,this.instanceId="123456789012345678",this.configuration=Qn(),this.source=null,this.sourceOrigin="",this.sdkVersion="mock",this.mobileAppVersion="unknown",this.frameId="aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa",this.eventBus=new yn,this.clientId=e,this.commands=this._updateCommandMocks({}),this.guildId=r,this.channelId=n,this.locationId=i,this.customId=null,this.referrerId=null}_updateCommandMocks(e){return this.commands=Ws(Object.assign({},Yu,e),(r,n,i)=>{r[i]=async(...a)=>(console.info(`DiscordSDKMock: ${String(i)}(${JSON.stringify(a)})`),await n(...a))}),this.commands}emitReady(){this.emitEvent("READY",void 0)}close(...e){console.info(`DiscordSDKMock: close(${JSON.stringify(e)})`)}ready(){return Promise.resolve()}async subscribe(e,r,...n){return await this.eventBus.on(e,r)}async unsubscribe(e,r,...n){return await this.eventBus.off(e,r)}emitEvent(e,r){this.eventBus.emit(e,r)}},Yu={authorize:()=>Promise.resolve({code:"mock_code"}),authenticate:()=>Promise.resolve({access_token:"mock_token",user:{username:"mock_user_username",discriminator:"mock_user_discriminator",id:"mock_user_id",avatar:null,public_flags:1},scopes:[],expires:new Date(2121,1,1).toString(),application:{description:"mock_app_description",icon:"mock_app_icon",id:"mock_app_id",name:"mock_app_name"}}),setActivity:()=>Promise.resolve({name:"mock_activity_name",type:0}),getChannel:()=>Promise.resolve({id:"mock_channel_id",name:"mock_channel_name",type:_r.GUILD_TEXT,voice_states:[],messages:[]}),getSkus:()=>Promise.resolve({skus:[]}),getEntitlements:()=>Promise.resolve({entitlements:[]}),startPurchase:()=>Promise.resolve([]),setConfig:()=>Promise.resolve({use_interactive_pip:!1}),userSettingsGetLocale:()=>Promise.resolve({locale:""}),openExternalLink:()=>Promise.resolve({opened:!1}),encourageHardwareAcceleration:()=>Promise.resolve({enabled:!0}),captureLog:()=>Promise.resolve(null),setOrientationLockState:()=>Promise.resolve(null),openInviteDialog:()=>Promise.resolve(null),getPlatformBehaviors:()=>Promise.resolve({iosKeyboardResizesView:!0}),getChannelPermissions:()=>Promise.resolve({permissions:On(1234567890)}),openShareMomentDialog:()=>Promise.resolve(null),shareLink:()=>Promise.resolve({success:!1}),initiateImageUpload:()=>Promise.resolve({image_url:"https://assets-global.website-files.com/6257adef93867e50d84d30e2/636e0b52aa9e99b832574a53_full_logo_blurple_RGB.png"}),getInstanceConnectedParticipants:()=>Promise.resolve({participants:[]})};function Js(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var $r="/.proxy",Qs=/\{([a-z]+)\}/g;function zu(t){let e=t.replace(Qs,(r,n)=>`(?<${n}>[\\w-]+)`);return new RegExp(`${e}(/|$)`)}function eo({originalURL:t,prefix:e,prefixHost:r,target:n}){let i=new URL(`https://${n}`),a=zu(i.host.replace(/%7B/g,"{").replace(/%7D/g,"}")),c=t.toString().match(a);if(c==null)return t;let u=new URL(t.toString());return u.host=r,u.pathname=e.replace(Qs,(m,f)=>{var p;let g=(p=c.groups)===null||p===void 0?void 0:p[f];if(g==null)throw new Error("Misconfigured route.");return g}),u.pathname+=u.pathname==="/"?t.pathname.slice(1):t.pathname,(u.hostname.includes("discordsays.com")||u.hostname.includes("discordsez.com"))&&!u.pathname.startsWith($r)&&(u.pathname=$r+u.pathname),u.pathname=u.pathname.replace(i.pathname,""),t.pathname.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function br(t,e=window.location.protocol,r=window.location.host){return new URL(t,`${e}//${r}`)}function Xu(t,{patchFetch:e=!0,patchWebSocket:r=!0,patchXhr:n=!0,patchSrcAttributes:i=!1}={}){if(!(typeof window>"u")){if(e){let a=window.fetch;window.fetch=function(c,u){if(c instanceof Request){let f=Lt({url:br(c.url),mappings:t}),p=u??{},g=Js(p,["url"]);return Object.keys(Request.prototype).forEach(S=>{if(S!=="url")try{g[S]=c[S]}catch(P){console.warn(`Remapping fetch request key "${S}" failed`,P)}}),new Promise((S,P)=>{try{c.blob().then($=>{c.method.toUpperCase()!=="HEAD"&&c.method.toUpperCase()!=="GET"&&$.size>0&&(g.body=$),S(a(new Request(f,g)))})}catch($){P($)}})}let m=Lt({url:c instanceof URL?c:br(c),mappings:t});return a(m,u)}}if(r){class a extends WebSocket{constructor(u,m){let f=Lt({url:u instanceof URL?u:br(u),mappings:t});super(f,m)}}window.WebSocket=a}if(n){let a=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(c,u,m,f,p){let g=Lt({url:br(u),mappings:t});a.apply(this,[c,g,m,f,p])}}if(i){let a=function(m){for(let f of m)f.type==="attributes"&&f.attributeName==="src"?ni(f.target,t):f.type==="childList"&&f.addedNodes.forEach(p=>{ni(p,t),to(p,t)})},c=new MutationObserver(a),u={attributeFilter:["src"],childList:!0,subtree:!0};c.observe(window.document,u),window.document.querySelectorAll("[src]").forEach(m=>{ni(m,t)})}}}function to(t,e){t.hasChildNodes()&&t.childNodes.forEach(r=>{ni(r,e),to(r,e)})}function ni(t,e){if(t instanceof HTMLElement&&t.hasAttribute("src")){let r=t.getAttribute("src"),n=br(r??"");if(n.host===window.location.host)return;if(t.tagName.toLowerCase()==="script")Wu(t,{url:n,mappings:e});else{let i=Lt({url:n,mappings:e}).toString();i!==r&&t.setAttribute("src",i)}}}function Wu(t,{url:e,mappings:r}){let n=Lt({url:e,mappings:r});if(e.toString()!==n.toString()){let i=document.createElement(t.tagName);i.innerHTML=t.innerHTML;for(let a of t.attributes)i.setAttribute(a.name,a.value);i.setAttribute("src",Lt({url:e,mappings:r}).toString()),t.after(i),t.remove()}}function Lt({url:t,mappings:e}){let r=new URL(t.toString());(r.hostname.includes("discordsays.com")||r.hostname.includes("discordsez.com"))&&!r.pathname.startsWith($r)&&(r.pathname=$r+r.pathname);for(let n of e){let i=eo({originalURL:r,prefix:n.prefix,target:n.target,prefixHost:window.location.host});if(i!=null&&i?.toString()!==t.toString())return i}return r}var{Commands:Ud}=Hn;export{Ud as Commands,Hn as Common,Ci as DiscordSDK,Xi as DiscordSDKMock,ne as Events,Hr as Orientation,Hu as PermissionUtils,mu as Permissions,ke as Platform,Cu as PriceUtils,Ri as RPCCloseCodes,Vr as RPCErrorCodes,Zi as Responses,Lt as attemptRemap,Xu as patchUrlMappings};
//# sourceMappingURL=embedded-app-sdk.bundle.mjs.map